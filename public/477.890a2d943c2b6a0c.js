"use strict";(self.webpackChunkcasaempeno=self.webpackChunkcasaempeno||[]).push([[477],{6477:(Qc,En,_)=>{_.r(En),_.d(En,{AdminModule:()=>Yc});var ce={};_.r(ce),_.d(ce,{FirebaseError:()=>P,SDK_VERSION:()=>qn,_DEFAULT_ENTRY_NAME:()=>M,_addComponent:()=>re,_addOrOverwriteComponent:()=>Un,_apps:()=>O,_clearComponents:()=>ko,_components:()=>J,_getProvider:()=>ie,_registerComponent:()=>w,_removeServiceInstance:()=>Do,deleteApp:()=>$n,getApp:()=>No,getApps:()=>Po,initializeApp:()=>Ee,onLog:()=>Hn,registerVersion:()=>S,setLogLevel:()=>Vn});var V=_(6814),K=_(4408),W=_(4575),s=_(5879),ei=_(6514);function ti(e,t){if(1&e){const n=s.EpF();s.TgZ(0,"div")(1,"a",13),s._uU(2),s.qZA(),s.TgZ(3,"ul",14)(4,"li")(5,"a",15),s._uU(6,"Mi perfil"),s.qZA()(),s.TgZ(7,"li"),s._UZ(8,"hr",16),s.qZA(),s.TgZ(9,"li")(10,"a",17),s.NdJ("click",function(){s.CHM(n);const i=s.oxw();return s.KtG(i.cerrar())}),s._uU(11,"Cerrar Sesion"),s.qZA()()()()}if(2&e){const n=s.oxw();s.xp6(2),s.hij(" ",n.nombre," ")}}function ni(e,t){1&e&&(s.TgZ(0,"div")(1,"a",13),s._uU(2," Usuario "),s.qZA(),s.TgZ(3,"ul",18)(4,"li")(5,"a",19),s._uU(6,"Iniciar Sesion"),s.qZA()(),s.TgZ(7,"li")(8,"a",20),s._uU(9,"Registro"),s.qZA()()()())}let ue=(()=>{class e{constructor(n,r){this.auth=n,this.router=r}ngOnInit(){this.nombre=this.auth.currentUserValue.nombre,this.usuario=this.auth.currentUserValue.tipo}cerrar(){this.auth.logout(),this.router.navigate(["/inicio"]),window.location.reload(),localStorage.removeItem("swalShown")}static#e=this.\u0275fac=function(r){return new(r||e)(s.Y36(ei.$),s.Y36(K.F0))};static#t=this.\u0275cmp=s.Xpm({type:e,selectors:[["app-menu"]],decls:17,vars:2,consts:[["id","headerNav",1,"navbar","navbar-expand-lg","navbar-dark","p-3","bg"],[1,"container-fluid"],["href","#",1,"navbar-brand","d-block","d-lg-none"],["src","../../../assets/casadeldinero.png","height","80"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav","mx-auto"],[1,"nav-item"],["aria-current","page","href","dashboard/inicio","routerLinkActive","active",1,"nav-link","mx-2"],["href","/dashboard/productos","routerLinkActive","active",1,"nav-link","mx-2"],[1,"nav-item","dropdown"],[4,"ngIf"],["href","#","id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","mx-2","dropdown-toggle"],[1,"dropdown-menu","text-small"],["routerLink","/miperfil",1,"dropdown-item"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu","bgnav"],["routerLink","/iniciosesion",1,"dropdown-item"],["routerLink","/registro",1,"dropdown-item"]],template:function(r,i){1&r&&(s.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),s._UZ(3,"img",3),s.qZA(),s.TgZ(4,"button",4),s._UZ(5,"span",5),s.qZA(),s.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),s._uU(10,"Inicio"),s.qZA()(),s.TgZ(11,"li",8)(12,"a",10),s._uU(13,"Productos"),s.qZA()(),s.TgZ(14,"li",11),s.YNc(15,ti,12,1,"div",12),s.YNc(16,ni,10,0,"div",12),s.qZA()()()()()),2&r&&(s.xp6(15),s.Q6J("ngIf",i.nombre),s.xp6(1),s.Q6J("ngIf",!i.nombre))},dependencies:[V.O5],styles:["*[_ngcontent-%COMP%]{font-size:14pt}@media screen and (min-width:992px){.nav-item[_ngcontent-%COMP%]{line-height:80px}}.nav-link[_ngcontent-%COMP%]:hover{color:#000}.nav-link[_ngcontent-%COMP%]:hover{color:#f2fdf0}"]})}return e})(),ri=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=s.Xpm({type:e,selectors:[["app-inicio"]],decls:1,vars:0,template:function(r,i){1&r&&s._UZ(0,"app-menu")},dependencies:[ue]})}return e})();var ii=_(3519),I=_.n(ii),Tn=_(108),g=_(6223);function oi(e,t){if(1&e){const n=s.EpF();s.TgZ(0,"div",27)(1,"div",28),s._UZ(2,"br")(3,"img",29),s.TgZ(4,"div",30)(5,"h4",31),s._uU(6),s.ALo(7,"titlecase"),s.qZA(),s.TgZ(8,"p",32),s._uU(9),s.qZA(),s.TgZ(10,"p",32),s._uU(11),s.qZA(),s.TgZ(12,"button",33),s.NdJ("click",function(){const o=s.CHM(n).$implicit,a=s.oxw();return s.KtG(a.abrirModalEditar(o))}),s._uU(13,"Editar"),s.qZA(),s.TgZ(14,"button",34),s.NdJ("click",function(){const o=s.CHM(n).$implicit,a=s.oxw();return s.KtG(a.prosBorrar(o))}),s._uU(15,"Eliminar"),s.qZA()()()()}if(2&e){const n=t.$implicit;s.xp6(3),s.s9C("src",n.foto1,s.LSH),s.xp6(3),s.Oqu(s.lcZ(7,4,n.Nombre)),s.xp6(3),s.Oqu(n.descripcion),s.xp6(2),s.hij("$",n.precio,"")}}let si=(()=>{class e{constructor(n,r){this.tiendaService=n,this.router=r,this.prodTienda=[],this.modalData={Id:"",Nombre:"",Descripcion:"",Precio:"",Stock:""},this.request={Id:""}}ngOnInit(){this.getProd()}getProd(){this.tiendaService.getProd().subscribe(n=>{this.prodTienda=n})}abrirModalEditar(n){this.modalData={Id:n.id,Nombre:n.Nombre,Descripcion:n.descripcion,Precio:n.precio,Stock:n.stock}}guardarCambios(){this.tiendaService.editarProd(this.modalData).subscribe({next:n=>{n.result?I().fire({position:"top-end",title:n.message,icon:"success",confirmButtonText:"Ok"}).then(r=>{r.isConfirmed&&window.location.reload()}):I().fire({position:"top-end",icon:"error",title:n.message,showConfirmButton:!1,timer:1500})}})}prosBorrar(n){I().fire({position:"top-end",title:"Estas seguro que quieres borrar "+n.id+"?",showCancelButton:!0,confirmButtonText:"Borrar"}).then(r=>{r.isConfirmed&&(this.request.Id=n.id,this.tiendaService.borrarProd(this.request).subscribe({next:i=>{i.result||I().fire(i.message,"","warning"),I().fire({position:"top-end",title:i.message,icon:"success",confirmButtonText:"Ok"}).then(o=>{o.isConfirmed&&window.location.reload()})}}))})}static#e=this.\u0275fac=function(r){return new(r||e)(s.Y36(Tn.D),s.Y36(K.F0))};static#t=this.\u0275cmp=s.Xpm({type:e,selectors:[["app-productos"]],decls:44,vars:6,consts:[[1,"container"],[1,"btnregis"],[1,"btn","btn-success","mx-2"],["href","/dashboard/registro",2,"text-decoration","none","color","white"],[1,"grid"],["class","card-deck mt-3",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"ngSubmit"],["editarForm","ngForm"],[1,"form-group"],["for","Nombre"],["type","text","id","Nombre","name","Nombre","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","Descripcion"],["id","Descripcion","name","Descripcion","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","Precio"],["type","number","id","Precio","name","Precio","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","Stock"],["type","number","id","stock","name","stock","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"card-deck","mt-3"],[1,"card","text-center","cartalig"],[1,"logo",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary","mx-2",3,"click"],[1,"btn","btn-danger","mx-2",3,"click"]],template:function(r,i){1&r&&(s._UZ(0,"app-menu")(1,"br")(2,"br"),s.TgZ(3,"div",0)(4,"div",1)(5,"button",2)(6,"a",3),s._uU(7,"Registrar"),s.qZA()()()(),s.TgZ(8,"div",0)(9,"div",4),s.YNc(10,oi,16,6,"div",5),s.qZA()(),s.TgZ(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"h1",10),s._uU(16,"Editar Producto"),s.qZA(),s._UZ(17,"button",11),s.qZA(),s.TgZ(18,"div",12)(19,"form",13,14),s.NdJ("ngSubmit",function(){return i.guardarCambios()}),s.TgZ(21,"h3"),s._uU(22),s.qZA(),s.TgZ(23,"div",15)(24,"label",16),s._uU(25,"Nombre:"),s.qZA(),s.TgZ(26,"input",17),s.NdJ("ngModelChange",function(a){return i.modalData.Nombre=a}),s.qZA()(),s.TgZ(27,"div",15)(28,"label",18),s._uU(29,"Descripci\xf3n:"),s.qZA(),s.TgZ(30,"textarea",19),s.NdJ("ngModelChange",function(a){return i.modalData.Descripcion=a}),s.qZA()(),s.TgZ(31,"div",15)(32,"label",20),s._uU(33,"Precio:"),s.qZA(),s.TgZ(34,"input",21),s.NdJ("ngModelChange",function(a){return i.modalData.Precio=a}),s.qZA()(),s.TgZ(35,"div",15)(36,"label",22),s._uU(37,"Stock:"),s.qZA(),s.TgZ(38,"input",23),s.NdJ("ngModelChange",function(a){return i.modalData.Stock=a}),s.qZA()(),s.TgZ(39,"div",24)(40,"button",25),s._uU(41,"Cerrar"),s.qZA(),s.TgZ(42,"button",26),s._uU(43,"Guardar cambios"),s.qZA()()()()()()()),2&r&&(s.xp6(10),s.Q6J("ngForOf",i.prodTienda),s.xp6(12),s.hij("Id: ",i.modalData.Id,""),s.xp6(4),s.Q6J("ngModel",i.modalData.Nombre),s.xp6(4),s.Q6J("ngModel",i.modalData.Descripcion),s.xp6(4),s.Q6J("ngModel",i.modalData.Precio),s.xp6(4),s.Q6J("ngModel",i.modalData.Stock))},dependencies:[V.sg,ue,g._Y,g.Fj,g.wV,g.JJ,g.JL,g.Q7,g.On,g.F,V.rS],styles:[".grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1rem}.btnregis[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.logo[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:150px}"]})}return e})();var ai=_(2931),l=_(5861);const xn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},An={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],a=i+1<e.length,u=a?e[i+1]:0,d=i+2<e.length,f=d?e[i+2]:0;let b=(15&u)<<2|f>>6,D=63&f;d||(D=64,a||(b=64)),r.push(n[o>>2],n[(3&o)<<4|u>>4],n[b],n[D])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const d=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(d>>10)),t[r++]=String.fromCharCode(56320+(1023&d))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],u=i<e.length?n[e.charAt(i)]:0;++i;const f=i<e.length?n[e.charAt(i)]:64;++i;const c=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==u||null==f||null==c)throw new li;r.push(o<<2|u>>4),64!==f&&(r.push(u<<4&240|f>>2),64!==c&&r.push(f<<6&192|c))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class li extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q=function(e){return function(e){const t=xn(e);return An.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function z(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!pi(n)||(e[n]=z(e[n],t[n]));return e}function pi(e){return"__proto__"!==e}const X=()=>{try{return function hi(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&function(e){try{return An.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Cn=()=>{var e;return null===(e=X())||void 0===e?void 0:e.config};class Dn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,r))}}}function fe(){try{return"object"==typeof indexedDB}catch{return!1}}class P extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,B.prototype.create)}}class B{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],a=o?function Ei(e,t){return e.replace(Ti,(n,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new P(i,`${this.serviceName}: ${a} (${i}).`,r)}}const Ti=/\{\$([^}]+)}/g;function Mn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],a=t[i];if(On(o)&&On(a)){if(!pe(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function On(e){return null!==e&&"object"==typeof e}function xi(e,t){const n=new Ai(e,t);return n.subscribe.bind(n)}class Ai{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(void 0===t&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Ci(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:n,complete:r},void 0===i.next&&(i.next=he),void 0===i.error&&(i.error=he),void 0===i.complete&&(i.complete=he);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function he(){}function ne(e){return e&&e._delegate?e._delegate:e}class v{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const R="[DEFAULT]";class Pi{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Dn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(n=t?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function Ri(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:R})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=R){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return(0,l.Z)(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=R){return this.instances.has(t)}getOptions(t=R){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&a.resolve(i);return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&t(a,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(e=t,e===R?void 0:e),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var e;return r||null}normalizeInstanceIdentifier(t=R){return this.component?this.component.multipleInstances?t:R:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Li{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Pi(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const me=[];var h=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(h||{});const Nn={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},Fi=h.INFO,ji={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},Zi=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=ji[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Pn{constructor(t){this.name=t,this._logLevel=Fi,this._logHandler=Zi,this._userLogHandler=null,me.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in h))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?Nn[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...t),this._logHandler(this,h.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...t),this._logHandler(this,h.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,h.INFO,...t),this._logHandler(this,h.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,h.WARN,...t),this._logHandler(this,h.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...t),this._logHandler(this,h.ERROR,...t)}}const $i=(e,t)=>t.some(n=>e instanceof n);let Bn,Rn;const Ln=new WeakMap,_e=new WeakMap,Fn=new WeakMap,be=new WeakMap,ye=new WeakMap;let ve={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return _e.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Fn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return k(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Gi(e){return"function"==typeof e?function Ji(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Vi(){return Rn||(Rn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(we(this),t),k(Ln.get(this))}:function(...t){return k(e.apply(we(this),t))}:function(t,...n){const r=e.call(we(this),t,...n);return Fn.set(r,t.sort?t.sort():[t]),k(r)}}(e):(e instanceof IDBTransaction&&function Wi(e){if(_e.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});_e.set(e,t)}(e),$i(e,function Hi(){return Bn||(Bn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,ve):e)}function k(e){if(e instanceof IDBRequest)return function Ki(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(k(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&Ln.set(n,e)}).catch(()=>{}),ye.set(t,e),t}(e);if(be.has(e))return be.get(e);const t=Gi(e);return t!==e&&(be.set(e,t),ye.set(t,e)),t}const we=e=>ye.get(e),Qi=["get","getKey","getAll","getAllKeys","count"],Xi=["put","add","delete","clear"],Se=new Map;function jn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Se.get(t))return Se.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Xi.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Qi.includes(n))return;const o=function(){var a=(0,l.Z)(function*(u,...d){const f=this.transaction(u,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(yield Promise.all([p[n](...d),i&&f.done]))[0]});return function(d){return a.apply(this,arguments)}}();return Se.set(t,o),o}!function zi(e){ve=e(ve)}(e=>({...e,get:(t,n,r)=>jn(t,n)||e.get(t,n,r),has:(t,n)=>!!jn(t,n)||e.has(t,n)}));class eo{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function to(e){const t=e.getComponent();return"VERSION"===t?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Ie="@firebase/app",L=new Pn("@firebase/app"),M="[DEFAULT]",Co={[Ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},O=new Map,J=new Map;function re(e,t){try{e.container.addComponent(t)}catch(n){L.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Un(e,t){e.container.addOrOverwriteComponent(t)}function w(e){const t=e.name;if(J.has(t))return L.debug(`There were multiple attempts to register component ${t}.`),!1;J.set(t,e);for(const n of O.values())re(n,e);return!0}function ie(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Do(e,t,n=M){ie(e,t).clearInstance(n)}function ko(){J.clear()}const E=new B("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Oo{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new v("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw E.create("app-deleted",{appName:this._name})}}const qn="10.6.0";function Ee(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:M,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw E.create("bad-app-name",{appName:String(i)});if(n||(n=Cn()),!n)throw E.create("no-options");const o=O.get(i);if(o){if(pe(n,o.options)&&pe(r,o.config))return o;throw E.create("duplicate-app",{appName:i})}const a=new Li(i);for(const d of J.values())a.addComponent(d);const u=new Oo(n,r,a);return O.set(i,u),u}function No(e=M){const t=O.get(e);if(!t&&e===M&&Cn())return Ee();if(!t)throw E.create("no-app",{appName:e});return t}function Po(){return Array.from(O.values())}function $n(e){return Te.apply(this,arguments)}function Te(){return(Te=(0,l.Z)(function*(e){const t=e.name;O.has(t)&&(O.delete(t),yield Promise.all(e.container.getProviders().map(n=>n.delete())),e.isDeleted=!0)})).apply(this,arguments)}function S(e,t,n){var r;let i=null!==(r=Co[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const u=[`Unable to register library "${i}" with version "${t}":`];return o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void L.warn(u.join(" "))}w(new v(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}function Hn(e,t){if(null!==e&&"function"!=typeof e)throw E.create("invalid-log-argument");!function qi(e,t){for(const n of me){let r=null;t&&t.level&&(r=Nn[t.level]),n.userLogHandler=null===e?null:(i,o,...a)=>{const u=a.map(d=>{if(null==d)return null;if("string"==typeof d)return d;if("number"==typeof d||"boolean"==typeof d)return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??i.logLevel)&&e({level:h[o].toLowerCase(),message:u,args:a,type:i.name})}}}(e,t)}function Vn(e){!function Ui(e){me.forEach(t=>{t.setLogLevel(e)})}(e)}const Bo="firebase-heartbeat-database",Ro=1,G="firebase-heartbeat-store";let xe=null;function Kn(){return xe||(xe=function Yi(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),u=k(a);return r&&a.addEventListener("upgradeneeded",d=>{r(k(a.result),d.oldVersion,d.newVersion,k(a.transaction),d)}),n&&a.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}(Bo,Ro,{upgrade:(e,t)=>{0===t&&e.createObjectStore(G)}}).catch(e=>{throw E.create("idb-open",{originalErrorMessage:e.message})})),xe}function Ae(){return(Ae=(0,l.Z)(function*(e){try{return yield(yield Kn()).transaction(G).objectStore(G).get(zn(e))}catch(t){if(t instanceof P)L.warn(t.message);else{const n=E.create("idb-get",{originalErrorMessage:t?.message});L.warn(n.message)}}})).apply(this,arguments)}function Wn(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,l.Z)(function*(e,t){try{const r=(yield Kn()).transaction(G,"readwrite");yield r.objectStore(G).put(t,zn(e)),yield r.done}catch(n){if(n instanceof P)L.warn(n.message);else{const r=E.create("idb-set",{originalErrorMessage:n?.message});L.warn(r.message)}}})).apply(this,arguments)}function zn(e){return`${e.name}!${e.options.appId}`}class Zo{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qo(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return(0,l.Z)(function*(){var n;const i=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Jn();if(null==(null===(n=t._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(t._heartbeatsCache=yield t._heartbeatsCachePromise),t._heartbeatsCache.lastSentHeartbeatDate!==o&&!t._heartbeatsCache.heartbeats.some(a=>a.date===o))return t._heartbeatsCache.heartbeats.push({date:o,agent:i}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return(0,l.Z)(function*(){var n;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(n=t._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const r=Jn(),{heartbeatsToSend:i,unsentEntries:o}=function Uo(e,t=1024){const n=[];let r=e.slice();for(const i of e){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),Gn(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(t._heartbeatsCache.heartbeats),a=Q(JSON.stringify({version:2,heartbeats:i}));return t._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(t._heartbeatsCache.heartbeats=o,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),a})()}}function Jn(){return(new Date).toISOString().substring(0,10)}class qo{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!fe()&&function wi(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){t(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return(0,l.Z)(function*(){return(yield t._canUseIndexedDBPromise)&&(yield function Lo(e){return Ae.apply(this,arguments)}(t.app))||{heartbeats:[]}})()}overwrite(t){var n=this;return(0,l.Z)(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return Wn(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var n=this;return(0,l.Z)(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return Wn(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}})()}}function Gn(e){return Q(JSON.stringify({version:2,heartbeats:e})).length}!function $o(e){w(new v("platform-logger",t=>new eo(t),"PRIVATE")),w(new v("heartbeat",t=>new Zo(t),"PRIVATE")),S(Ie,"0.9.23",e),S(Ie,"0.9.23","esm2017"),S("fire-js","")}("");class Ho{constructor(t,n){this._delegate=t,this.firebase=n,re(t,new v("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),$n(this._delegate)))}_getService(t,n=M){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(t);return!i.isInitialized()&&"EXPLICIT"===(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(t,n=M){this._delegate.container.getProvider(t).clearInstance(n)}_addComponent(t){re(this._delegate,t)}_addOrOverwriteComponent(t){Un(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Yn=new B("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Wo=function Qn(){const e=function Ko(e){const t={},n={__esModule:!0,initializeApp:function o(f,p={}){const c=Ee(f,p);if(Mn(t,c.name))return t[c.name];const b=new e(c,n);return t[c.name]=b,b},app:i,registerVersion:S,setLogLevel:Vn,onLog:Hn,apps:null,SDK_VERSION:qn,INTERNAL:{registerComponent:function u(f){const p=f.name,c=p.replace("-compat","");if(w(f)&&"PUBLIC"===f.type){const b=(D=i())=>{if("function"!=typeof D[c])throw Yn.create("invalid-app-argument",{appName:p});return D[c]()};void 0!==f.serviceProps&&z(b,f.serviceProps),n[c]=b,e.prototype[c]=function(...D){return this._getService.bind(this,p).apply(this,f.multipleInstances?D:[])}}return"PUBLIC"===f.type?n[c]:null},removeApp:function r(f){delete t[f]},useAsService:function d(f,p){return"serverAuth"===p?null:p},modularAPIs:ce}};function i(f){if(!Mn(t,f=f||M))throw Yn.create("no-app",{appName:f});return t[f]}return n.default=n,Object.defineProperty(n,"apps",{get:function a(){return Object.keys(t).map(f=>t[f])}}),i.App=e,n}(Ho);return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:Qn,extendNamespace:function t(n){z(e,n)},createSubscribe:xi,ErrorFactory:B,deepExtend:z}),e}(),Xn=new Pn("@firebase/app-compat");if(function vi(){return"object"==typeof self&&self.self===self}()&&void 0!==self.firebase){Xn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Xn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const er=Wo;!function Go(e){S("@firebase/app-compat","0.2.23",e)}();const Yo=(e,t)=>t.some(n=>e instanceof n);let tr,nr;const rr=new WeakMap,De=new WeakMap,ir=new WeakMap,ke=new WeakMap,Me=new WeakMap;let Oe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return De.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ir.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return N(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function is(e){return"function"==typeof e?function rs(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xo(){return nr||(nr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(Ne(this),t),N(rr.get(this))}:function(...t){return N(e.apply(Ne(this),t))}:function(t,...n){const r=e.call(Ne(this),t,...n);return ir.set(r,t.sort?t.sort():[t]),N(r)}}(e):(e instanceof IDBTransaction&&function ts(e){if(De.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});De.set(e,t)}(e),Yo(e,function Qo(){return tr||(tr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,Oe):e)}function N(e){if(e instanceof IDBRequest)return function es(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(N(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&rr.set(n,e)}).catch(()=>{}),Me.set(t,e),t}(e);if(ke.has(e))return ke.get(e);const t=is(e);return t!==e&&(ke.set(e,t),Me.set(t,e)),t}const Ne=e=>Me.get(e),ss=["get","getKey","getAll","getAllKeys","count"],as=["put","add","delete","clear"],Pe=new Map;function or(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Pe.get(t))return Pe.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=as.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ss.includes(n))return;const o=function(){var a=(0,l.Z)(function*(u,...d){const f=this.transaction(u,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(yield Promise.all([p[n](...d),i&&f.done]))[0]});return function(d){return a.apply(this,arguments)}}();return Pe.set(t,o),o}!function ns(e){Oe=e(Oe)}(e=>({...e,get:(t,n,r)=>or(t,n)||e.get(t,n,r),has:(t,n)=>!!or(t,n)||e.has(t,n)}));const sr="@firebase/installations",Be="0.6.4",ar=1e4,cr=`w:${Be}`,ur="FIS_v2",cs="https://firebaseinstallations.googleapis.com/v1",us=36e5,T=new B("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dr(e){return e instanceof P&&e.code.includes("request-failed")}function Re({projectId:e}){return`${cs}/projects/${e}/installations`}function lr(e){return{token:e.token,requestStatus:2,expiresIn:ps(e.expiresIn),creationTime:Date.now()}}function Le(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,l.Z)(function*(e,t){const r=(yield t.json()).error;return T.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function fr({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function je(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,l.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function ps(e){return Number(e.replace("s","000"))}function Ue(){return(Ue=(0,l.Z)(function*({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Re(e),i=fr(e),o=t.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const u={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:ur,appId:e.appId,sdkVersion:cr})},d=yield je(()=>fetch(r,u));if(d.ok){const f=yield d.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:lr(f.authToken)}}throw yield Le("Create Installation",d)})).apply(this,arguments)}function hr(e){return new Promise(t=>{setTimeout(t,e)})}const _s=/^[cdef][\w-]{21}$/,qe="";function bs(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=function ys(e){return function ms(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return _s.test(n)?n:qe}catch{return qe}}function q(e){return`${e.appName}!${e.appId}`}const $=new Map;function gr(e,t){const n=q(e);mr(n,t),function Ss(e,t){const n=function _r(){return!F&&"BroadcastChannel"in self&&(F=new BroadcastChannel("[Firebase] FID Change"),F.onmessage=e=>{mr(e.data.key,e.data.fid)}),F}();n&&n.postMessage({key:e,fid:t}),function br(){0===$.size&&F&&(F.close(),F=null)}()}(n,t)}function mr(e,t){const n=$.get(e);if(n)for(const r of n)r(t)}let F=null;const Is="firebase-installations-database",Es=1,j="firebase-installations-store";let $e=null;function He(){return $e||($e=function os(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),u=N(a);return r&&a.addEventListener("upgradeneeded",d=>{r(N(a.result),d.oldVersion,d.newVersion,N(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",()=>i())}).catch(()=>{}),u}(Is,Es,{upgrade:(e,t)=>{0===t&&e.createObjectStore(j)}})),$e}function oe(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,l.Z)(function*(e,t){const n=q(e),i=(yield He()).transaction(j,"readwrite"),o=i.objectStore(j),a=yield o.get(n);return yield o.put(t,n),yield i.done,(!a||a.fid!==t.fid)&&gr(e,t.fid),t})).apply(this,arguments)}function Ke(e){return We.apply(this,arguments)}function We(){return(We=(0,l.Z)(function*(e){const t=q(e),r=(yield He()).transaction(j,"readwrite");yield r.objectStore(j).delete(t),yield r.done})).apply(this,arguments)}function Y(e,t){return ze.apply(this,arguments)}function ze(){return(ze=(0,l.Z)(function*(e,t){const n=q(e),i=(yield He()).transaction(j,"readwrite"),o=i.objectStore(j),a=yield o.get(n),u=t(a);return void 0===u?yield o.delete(n):yield o.put(u,n),yield i.done,u&&(!a||a.fid!==u.fid)&&gr(e,u.fid),u})).apply(this,arguments)}function Je(e){return Ge.apply(this,arguments)}function Ge(){return Ge=(0,l.Z)(function*(e){let t;const n=yield Y(e.appConfig,r=>{const i=function Ts(e){return vr(e||{fid:bs(),registrationStatus:0})}(r),o=function xs(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(T.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function As(e,t){return Ye.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Cs(e)}:{installationEntry:t}}(e,i);return t=o.registrationPromise,o.installationEntry});return n.fid===qe?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}}),Ge.apply(this,arguments)}function Ye(){return Ye=(0,l.Z)(function*(e,t){try{const n=yield function gs(e,t){return Ue.apply(this,arguments)}(e,t);return oe(e.appConfig,n)}catch(n){throw dr(n)&&409===n.customData.serverCode?yield Ke(e.appConfig):yield oe(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}),Ye.apply(this,arguments)}function Cs(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,l.Z)(function*(e){let t=yield yr(e.appConfig);for(;1===t.registrationStatus;)yield hr(100),t=yield yr(e.appConfig);if(0===t.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Je(e);return r||n}return t})).apply(this,arguments)}function yr(e){return Y(e,t=>{if(!t)throw T.create("installation-not-found");return vr(t)})}function vr(e){return function Ds(e){return 1===e.registrationStatus&&e.registrationTime+ar<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function Xe(){return(Xe=(0,l.Z)(function*({appConfig:e,heartbeatServiceProvider:t},n){const r=function Ms(e,{fid:t}){return`${Re(e)}/${t}/authTokens:generate`}(e,n),i=function pr(e,{refreshToken:t}){const n=fr(e);return n.append("Authorization",function hs(e){return`${ur} ${e}`}(t)),n}(e,n),o=t.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const u={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:cr,appId:e.appId}})},d=yield je(()=>fetch(r,u));if(d.ok)return lr(yield d.json());throw yield Le("Generate Auth Token",d)})).apply(this,arguments)}function et(e){return tt.apply(this,arguments)}function tt(){return tt=(0,l.Z)(function*(e,t=!1){let n;const r=yield Y(e.appConfig,o=>{if(!Sr(o))throw T.create("not-registered");const a=o.authToken;if(!t&&function Ps(e){return 2===e.requestStatus&&!function Bs(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+us}(e)}(a))return o;if(1===a.requestStatus)return n=function Os(e,t){return nt.apply(this,arguments)}(e,t),o;{if(!navigator.onLine)throw T.create("app-offline");const u=function Rs(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(o);return n=function Ns(e,t){return rt.apply(this,arguments)}(e,u),u}});return n?yield n:r.authToken}),tt.apply(this,arguments)}function nt(){return(nt=(0,l.Z)(function*(e,t){let n=yield wr(e.appConfig);for(;1===n.authToken.requestStatus;)yield hr(100),n=yield wr(e.appConfig);const r=n.authToken;return 0===r.requestStatus?et(e,t):r})).apply(this,arguments)}function wr(e){return Y(e,t=>{if(!Sr(t))throw T.create("not-registered");return function Ls(e){return 1===e.requestStatus&&e.requestTime+ar<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function rt(){return rt=(0,l.Z)(function*(e,t){try{const n=yield function ks(e,t){return Xe.apply(this,arguments)}(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield oe(e.appConfig,r),n}catch(n){if(!dr(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield oe(e.appConfig,r)}else yield Ke(e.appConfig);throw n}}),rt.apply(this,arguments)}function Sr(e){return void 0!==e&&2===e.registrationStatus}function it(){return(it=(0,l.Z)(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield Je(t);return r?r.catch(console.error):et(t).catch(console.error),n.fid})).apply(this,arguments)}function ot(){return ot=(0,l.Z)(function*(e,t=!1){const n=e;return yield function Zs(e){return st.apply(this,arguments)}(n),(yield et(n,t)).token}),ot.apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(e){const{registrationPromise:t}=yield Je(e);t&&(yield t)})).apply(this,arguments)}function ut(e){return T.create("missing-app-config-values",{valueName:e})}const Ir="installations",Vs=e=>{const t=e.getProvider("app").getImmediate(),n=function $s(e){if(!e||!e.options)throw ut("App Configuration");if(!e.name)throw ut("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ut(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:ie(t,"heartbeat"),_delete:()=>Promise.resolve()}},Ks=e=>{const n=ie(e.getProvider("app").getImmediate(),Ir).getImmediate();return{getId:()=>function Fs(e){return it.apply(this,arguments)}(n),getToken:i=>function js(e){return ot.apply(this,arguments)}(n,i)}};(function Ws(){w(new v(Ir,Vs,"PUBLIC")),w(new v("installations-internal",Ks,"PRIVATE"))})(),S(sr,Be),S(sr,Be,"esm2017");const zs=(e,t)=>t.some(n=>e instanceof n);let Er,Tr;const xr=new WeakMap,dt=new WeakMap,Ar=new WeakMap,lt=new WeakMap,ft=new WeakMap;let pt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return dt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ar.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return x(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ta(e){return"function"==typeof e?function ea(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gs(){return Tr||(Tr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(ht(this),t),x(xr.get(this))}:function(...t){return x(e.apply(ht(this),t))}:function(t,...n){const r=e.call(ht(this),t,...n);return Ar.set(r,t.sort?t.sort():[t]),x(r)}}(e):(e instanceof IDBTransaction&&function Qs(e){if(dt.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});dt.set(e,t)}(e),zs(e,function Js(){return Er||(Er=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,pt):e)}function x(e){if(e instanceof IDBRequest)return function Ys(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(x(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&xr.set(n,e)}).catch(()=>{}),ft.set(t,e),t}(e);if(lt.has(e))return lt.get(e);const t=ta(e);return t!==e&&(lt.set(e,t),ft.set(t,e)),t}const ht=e=>ft.get(e);function se(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),u=x(a);return r&&a.addEventListener("upgradeneeded",d=>{r(x(a.result),d.oldVersion,d.newVersion,x(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",()=>i())}).catch(()=>{}),u}function H(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),x(n).then(()=>{})}const na=["get","getKey","getAll","getAllKeys","count"],ra=["put","add","delete","clear"],gt=new Map;function Cr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(gt.get(t))return gt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ra.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!na.includes(n))return;const o=function(){var a=(0,l.Z)(function*(u,...d){const f=this.transaction(u,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(yield Promise.all([p[n](...d),i&&f.done]))[0]});return function(d){return a.apply(this,arguments)}}();return gt.set(t,o),o}!function Xs(e){pt=e(pt)}(e=>({...e,get:(t,n,r)=>Cr(t,n)||e.get(t,n,r),has:(t,n)=>!!Cr(t,n)||e.has(t,n)}));const ia="/firebase-messaging-sw.js",oa="/firebase-cloud-messaging-push-scope",Dr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sa="https://fcmregistrations.googleapis.com/v1",kr="google.c.a.c_id",aa="google.c.a.c_l",ca="google.c.a.ts";var ae=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}(ae||{});function A(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function la(e){const n=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const mt="fcm_token_details_db",fa=5,Mr="fcm_token_object_Store";function _t(){return _t=(0,l.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(mt))return null;let t=null;return(yield se(mt,fa,{upgrade:(r=(0,l.Z)(function*(i,o,a,u){var d;if(o<2||!i.objectStoreNames.contains(Mr))return;const f=u.objectStore(Mr),p=yield f.index("fcmSenderId").get(e);if(yield f.clear(),p)if(2===o){const c=p;if(!c.auth||!c.p256dh||!c.endpoint)return;t={token:c.fcmToken,createTime:null!==(d=c.createTime)&&void 0!==d?d:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:"string"==typeof c.vapidKey?c.vapidKey:A(c.vapidKey)}}}else if(3===o){const c=p;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:A(c.auth),p256dh:A(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:A(c.vapidKey)}}}else if(4===o){const c=p;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:A(c.auth),p256dh:A(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:A(c.vapidKey)}}}}),function(o,a,u,d){return r.apply(this,arguments)})})).close(),yield H(mt),yield H("fcm_vapid_details_db"),yield H("undefined"),function ha(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null;var r}),_t.apply(this,arguments)}const ga="firebase-messaging-database",ma=1,Z="firebase-messaging-store";let bt=null;function yt(){return bt||(bt=se(ga,ma,{upgrade:(e,t)=>{0===t&&e.createObjectStore(Z)}})),bt}function Or(e){return vt.apply(this,arguments)}function vt(){return vt=(0,l.Z)(function*(e){const t=Et(e),r=yield(yield yt()).transaction(Z).objectStore(Z).get(t);if(r)return r;{const i=yield function pa(e){return _t.apply(this,arguments)}(e.appConfig.senderId);if(i)return yield wt(e,i),i}}),vt.apply(this,arguments)}function wt(e,t){return St.apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(e,t){const n=Et(e),i=(yield yt()).transaction(Z,"readwrite");return yield i.objectStore(Z).put(t,n),yield i.done,t})).apply(this,arguments)}function It(){return(It=(0,l.Z)(function*(e){const t=Et(e),r=(yield yt()).transaction(Z,"readwrite");yield r.objectStore(Z).delete(t),yield r.done})).apply(this,arguments)}function Et({appConfig:e}){return e.appId}const m=new B("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ya(e,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,l.Z)(function*(e,t){const n=yield Dt(e),r=Pr(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(Ct(e.appConfig),i)).json()}catch(a){throw m.create("token-subscribe-failed",{errorInfo:a?.toString()})}if(o.error)throw m.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw m.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(e,t){const n=yield Dt(e),r=Pr(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${Ct(e.appConfig)}/${t.token}`,i)).json()}catch(a){throw m.create("token-update-failed",{errorInfo:a?.toString()})}if(o.error)throw m.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw m.create("token-update-no-token");return o.token})).apply(this,arguments)}function Nr(e,t){return At.apply(this,arguments)}function At(){return(At=(0,l.Z)(function*(e,t){const r={method:"DELETE",headers:yield Dt(e)};try{const o=yield(yield fetch(`${Ct(e.appConfig)}/${t}`,r)).json();if(o.error)throw m.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw m.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Ct({projectId:e}){return`${sa}/projects/${e}/registrations`}function Dt(e){return kt.apply(this,arguments)}function kt(){return(kt=(0,l.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function Pr({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==Dr&&(i.web.applicationPubKey=r),i}const wa=6048e5;function Mt(){return Mt=(0,l.Z)(function*(e){const t=yield function Ea(e,t){return Bt.apply(this,arguments)}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:A(t.getKey("auth")),p256dh:A(t.getKey("p256dh"))},r=yield Or(e.firebaseDependencies);if(r){if(function Ta(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+wa?function Ia(e,t){return Nt.apply(this,arguments)}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Nr(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Rr(e.firebaseDependencies,n)}return Rr(e.firebaseDependencies,n)}),Mt.apply(this,arguments)}function Br(e){return Ot.apply(this,arguments)}function Ot(){return Ot=(0,l.Z)(function*(e){const t=yield Or(e.firebaseDependencies);t&&(yield Nr(e.firebaseDependencies,t.token),yield function _a(e){return It.apply(this,arguments)}(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),Ot.apply(this,arguments)}function Nt(){return Nt=(0,l.Z)(function*(e,t){try{const n=yield function va(e,t){return xt.apply(this,arguments)}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield wt(e.firebaseDependencies,r),n}catch(n){throw yield Br(e),n}}),Nt.apply(this,arguments)}function Rr(e,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,l.Z)(function*(e,t){const r={token:yield ya(e,t),createTime:Date.now(),subscriptionOptions:t};return yield wt(e,r),r.token})).apply(this,arguments)}function Bt(){return(Bt=(0,l.Z)(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:la(t)})})).apply(this,arguments)}function Lr(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function xa(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function Aa(e,t){t.data&&(e.data=t.data)}(t,e),function Ca(e,t){var n,r,i,o,a;if(!(t.fcmOptions||null!==(n=t.notification)&&void 0!==n&&n.click_action))return;e.fcmOptions={};const u=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;u&&(e.fcmOptions.link=u);const d=null===(a=t.fcmOptions)||void 0===a?void 0:a.analytics_label;d&&(e.fcmOptions.analyticsLabel=d)}(t,e),t}function Fr(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Rt(e){return m.create("missing-app-config-values",{valueName:e})}Fr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ma{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function ka(e){if(!e||!e.options)throw Rt("App Configuration Object");if(!e.name)throw Rt("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Rt(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function jr(e){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,l.Z)(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(ia,{scope:oa}),e.swRegistration.update().catch(()=>{})}catch(t){throw m.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})).apply(this,arguments)}function Ft(){return(Ft=(0,l.Z)(function*(e,t){if(!t&&!e.swRegistration&&(yield jr(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw m.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Dr)})).apply(this,arguments)}function Zr(e,t){return Zt.apply(this,arguments)}function Zt(){return Zt=(0,l.Z)(function*(e,t){if(!navigator)throw m.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw m.create("permission-blocked");return yield function Na(e,t){return jt.apply(this,arguments)}(e,t?.vapidKey),yield function Oa(e,t){return Ft.apply(this,arguments)}(e,t?.serviceWorkerRegistration),function Sa(e){return Mt.apply(this,arguments)}(e)}),Zt.apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(e,t,n){const r=function Ba(e){switch(e){case ae.NOTIFICATION_CLICKED:return"notification_open";case ae.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[kr],message_name:n[aa],message_time:n[ca],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qt(){return qt=(0,l.Z)(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===ae.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(Lr(n)):e.onMessageHandler.next(Lr(n)));const r=n.data;(function Da(e){return"object"==typeof e&&!!e&&kr in e})(r)&&"1"===r["google.c.a.e"]&&(yield function Pa(e,t,n){return Ut.apply(this,arguments)}(e,n.messageType,r))}),qt.apply(this,arguments)}const Ur="@firebase/messaging",La=e=>{const t=new Ma(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Ra(e,t){return qt.apply(this,arguments)}(t,n)),t},Fa=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>Zr(t,r)}};function Ht(){return(Ht=(0,l.Z)(function*(e){if(!navigator)throw m.create("only-available-in-window");return e.swRegistration||(yield jr(e)),Br(e)})).apply(this,arguments)}function Vt(){return(Vt=(0,l.Z)(function*(e,t){return Zr(e=ne(e),t)})).apply(this,arguments)}!function ja(){w(new v("messaging",La,"PUBLIC")),w(new v("messaging-internal",Fa,"PRIVATE")),S(Ur,"0.12.4"),S(Ur,"0.12.4","esm2017")}();const $r="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ka="https://fcmregistrations.googleapis.com/v1",Hr="FCM_MSG",za=3,Ja=1;var Kt=function(e){return e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION",e}(Kt||{}),Wt=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}(Wt||{});function C(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ga(e){const n=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const zt="fcm_token_details_db",Ya=5,Vr="fcm_token_object_Store";function Jt(){return Jt=(0,l.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(zt))return null;let t=null;return(yield se(zt,Ya,{upgrade:(r=(0,l.Z)(function*(i,o,a,u){var d;if(o<2||!i.objectStoreNames.contains(Vr))return;const f=u.objectStore(Vr),p=yield f.index("fcmSenderId").get(e);if(yield f.clear(),p)if(2===o){const c=p;if(!c.auth||!c.p256dh||!c.endpoint)return;t={token:c.fcmToken,createTime:null!==(d=c.createTime)&&void 0!==d?d:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:"string"==typeof c.vapidKey?c.vapidKey:C(c.vapidKey)}}}else if(3===o){const c=p;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:C(c.auth),p256dh:C(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:C(c.vapidKey)}}}else if(4===o){const c=p;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:C(c.auth),p256dh:C(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:C(c.vapidKey)}}}}),function(o,a,u,d){return r.apply(this,arguments)})})).close(),yield H(zt),yield H("fcm_vapid_details_db"),yield H("undefined"),function Xa(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null;var r}),Jt.apply(this,arguments)}const ec="firebase-messaging-database",tc=1,U="firebase-messaging-store";let Gt=null;function Yt(){return Gt||(Gt=se(ec,tc,{upgrade:(e,t)=>{0===t&&e.createObjectStore(U)}})),Gt}function Qt(e){return Xt.apply(this,arguments)}function Xt(){return Xt=(0,l.Z)(function*(e){const t=rn(e),r=yield(yield Yt()).transaction(U).objectStore(U).get(t);if(r)return r;{const i=yield function Qa(e){return Jt.apply(this,arguments)}(e.appConfig.senderId);if(i)return yield en(e,i),i}}),Xt.apply(this,arguments)}function en(e,t){return tn.apply(this,arguments)}function tn(){return(tn=(0,l.Z)(function*(e,t){const n=rn(e),i=(yield Yt()).transaction(U,"readwrite");return yield i.objectStore(U).put(t,n),yield i.done,t})).apply(this,arguments)}function nn(){return(nn=(0,l.Z)(function*(e){const t=rn(e),r=(yield Yt()).transaction(U,"readwrite");yield r.objectStore(U).delete(t),yield r.done})).apply(this,arguments)}function rn({appConfig:e}){return e.appId}const y=new B("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ic(e,t){return on.apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(e,t){const n=yield un(e),r=Wr(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(cn(e.appConfig),i)).json()}catch(a){throw y.create("token-subscribe-failed",{errorInfo:a?.toString()})}if(o.error)throw y.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw y.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function sn(){return(sn=(0,l.Z)(function*(e,t){const n=yield un(e),r=Wr(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${cn(e.appConfig)}/${t.token}`,i)).json()}catch(a){throw y.create("token-update-failed",{errorInfo:a?.toString()})}if(o.error)throw y.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw y.create("token-update-no-token");return o.token})).apply(this,arguments)}function Kr(e,t){return an.apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(e,t){const r={method:"DELETE",headers:yield un(e)};try{const o=yield(yield fetch(`${cn(e.appConfig)}/${t}`,r)).json();if(o.error)throw y.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw y.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function cn({projectId:e}){return`${Ka}/projects/${e}/registrations`}function un(e){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function Wr({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==$r&&(i.web.applicationPubKey=r),i}const sc=6048e5;function ln(){return ln=(0,l.Z)(function*(e){const t=yield function uc(e,t){return mn.apply(this,arguments)}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:C(t.getKey("auth")),p256dh:C(t.getKey("p256dh"))},r=yield Qt(e.firebaseDependencies);if(r){if(function dc(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+sc?function cc(e,t){return hn.apply(this,arguments)}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Kr(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return zr(e.firebaseDependencies,n)}return zr(e.firebaseDependencies,n)}),ln.apply(this,arguments)}function fn(e){return pn.apply(this,arguments)}function pn(){return pn=(0,l.Z)(function*(e){const t=yield Qt(e.firebaseDependencies);t&&(yield Kr(e.firebaseDependencies,t.token),yield function nc(e){return nn.apply(this,arguments)}(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),pn.apply(this,arguments)}function hn(){return hn=(0,l.Z)(function*(e,t){try{const n=yield function oc(e,t){return sn.apply(this,arguments)}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield en(e.firebaseDependencies,r),n}catch(n){throw yield fn(e),n}}),hn.apply(this,arguments)}function zr(e,t){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(e,t){const r={token:yield ic(e,t),createTime:Date.now(),subscriptionOptions:t};return yield en(e,r),r.token})).apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ga(t)})})).apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(e,t){const n=function bc(e,t){var n,r;const i={};return e.from&&(i.project_number=e.from),e.fcmMessageId&&(i.message_id=e.fcmMessageId),i.instance_id=t,i.message_type=e.notification?Kt.DISPLAY_NOTIFICATION.toString():Kt.DATA_MESSAGE.toString(),i.sdk_platform=za.toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),e.collapse_key&&(i.collapse_key=e.collapse_key),i.event=Ja.toString(),!(null===(n=e.fcmOptions)||void 0===n)&&n.analytics_label&&(i.analytics_label=null===(r=e.fcmOptions)||void 0===r?void 0:r.analytics_label),i}(t,yield e.firebaseDependencies.installations.getId());!function yc(e,t){const n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(t),e.logEvents.push(n)}(e,n)})).apply(this,arguments)}function Jr(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function bn(){return bn=(0,l.Z)(function*(e,t){var n,r;const{newSubscription:i}=e;if(!i)return void(yield fn(t));const o=yield Qt(t.firebaseDependencies);yield fn(t),t.vapidKey=null!==(r=null===(n=o?.subscriptionOptions)||void 0===n?void 0:n.vapidKey)&&void 0!==r?r:$r,yield function ac(e){return ln.apply(this,arguments)}(t)}),bn.apply(this,arguments)}function yn(){return yn=(0,l.Z)(function*(e,t){const n=function Ec({data:e}){if(!e)return null;try{return e.json()}catch{return null}}(e);if(!n)return;t.deliveryMetricsExportedToBigQueryEnabled&&(yield function _c(e,t){return _n.apply(this,arguments)}(t,n));const r=yield Gr();if(function xc(e){return e.some(t=>"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://"))}(r))return function Ac(e,t){t.isFirebaseMessaging=!0,t.messageType=Wt.PUSH_RECEIVED;for(const n of e)n.postMessage(t)}(r,n);if(n.notification&&(yield function Cc(e){var t;const{actions:n}=e,{maxActions:r}=Notification;return n&&r&&n.length>r&&console.warn(`This browser only supports ${r} actions. The remaining actions will not be displayed.`),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}(function Ic(e){const t=Object.assign({},e.notification);return t.data={[Hr]:e},t}(n))),t&&t.onBackgroundMessageHandler){const i=function lc(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function fc(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function pc(e,t){t.data&&(e.data=t.data)}(t,e),function hc(e,t){var n,r,i,o,a;if(!(t.fcmOptions||null!==(n=t.notification)&&void 0!==n&&n.click_action))return;e.fcmOptions={};const u=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;u&&(e.fcmOptions.link=u);const d=null===(a=t.fcmOptions)||void 0===a?void 0:a.analytics_label;d&&(e.fcmOptions.analyticsLabel=d)}(t,e),t}(n);"function"==typeof t.onBackgroundMessageHandler?yield t.onBackgroundMessageHandler(i):t.onBackgroundMessageHandler.next(i)}}),yn.apply(this,arguments)}function vn(){return vn=(0,l.Z)(function*(e){var t,n;const r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n[Hr];if(!r)return;if(e.action)return;e.stopImmediatePropagation(),e.notification.close();const i=function Dc(e){var t,n,r;return(null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action)||(function gc(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}(e.data)?self.location.origin:null)}(r);if(!i)return;const o=new URL(i,self.location.href),a=new URL(self.location.origin);if(o.host!==a.host)return;let u=yield function Tc(e){return wn.apply(this,arguments)}(o);return u?u=yield u.focus():(u=yield self.clients.openWindow(i),yield function mc(e){return new Promise(t=>{setTimeout(t,e)})}(3e3)),u?(r.messageType=Wt.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,u.postMessage(r)):void 0}),vn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(e){const t=yield Gr();for(const n of t){const r=new URL(n.url,self.location.href);if(e.host===r.host)return n}return null})).apply(this,arguments)}function Gr(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Sn(e){return y.create("missing-app-config-values",{valueName:e})}Jr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Jr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Mc{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function kc(e){if(!e||!e.options)throw Sn("App Configuration Object");if(!e.name)throw Sn("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Sn(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}const Oc=e=>{const t=new Mc(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",n=>{n.waitUntil(function wc(e,t){return yn.apply(this,arguments)}(n,t))}),self.addEventListener("pushsubscriptionchange",n=>{n.waitUntil(function vc(e,t){return bn.apply(this,arguments)}(n,t))}),self.addEventListener("notificationclick",n=>{n.waitUntil(function Sc(e){return vn.apply(this,arguments)}(n))}),t};!function Nc(){w(new v("messaging-sw",Oc,"PUBLIC"))}();class Yr{constructor(t,n){this.app=t,this._delegate=n,this.app=t,this._delegate=n}getToken(t){var n=this;return(0,l.Z)(function*(){return function $a(e,t){return Vt.apply(this,arguments)}(n._delegate,t)})()}deleteToken(){var t=this;return(0,l.Z)(function*(){return function Ha(e){return function Ua(e){return Ht.apply(this,arguments)}(e=ne(e))}(t._delegate)})()}onMessage(t){return function Va(e,t){return function qa(e,t){if(!navigator)throw m.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=ne(e),t)}(this._delegate,t)}onBackgroundMessage(t){return function Lc(e,t){return function Bc(e,t){if(void 0!==self.document)throw y.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,()=>{e.onBackgroundMessageHandler=null}}(e=ne(e),t)}(this._delegate,t)}}const $c=e=>self&&"ServiceWorkerGlobalScope"in self?new Yr(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging-sw").getImmediate()):new Yr(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging").getImmediate()),Hc={isSupported:function Zc(){return self&&"ServiceWorkerGlobalScope"in self?function qc(){return fe()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}():function Uc(){return typeof window<"u"&&fe()&&function Si(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}()}};(function Vc(){er.INTERNAL.registerComponent(new v("messaging-compat",$c,"PUBLIC").setServiceProps(Hc))})(),er.registerVersion("@firebase/messaging-compat","0.2.4");const Kc=["filepicker"],zc=[{path:"",canActivate:[W.a],canLoad:[W.a],children:[{path:"inicio",component:ri},{path:"productos",canActivate:[W.a],component:si},{path:"registro_producto",canActivate:[W.a],component:ai.g},{path:"registro",canActivate:[W.a],component:(()=>{class e{constructor(n,r){this.tiendaService=n,this.router=r,this.request={Nombre:"",Descripcion:"",Precio:"",Stock:"",Foto1:"",Foto2:"",Foto3:""},this.base="",this.base2="",this.base3=""}ngOnInit(){this.verificarConexion()}addFile(){this.uploader.nativeElement.click()}onFileSelected(n){var r=this;return(0,l.Z)(function*(){const i=n.target.files[0];var o=new FileReader;if(i.size<2e6){var a=i.type.split("/").pop();"jpg"==a||"jpeg"==a||"png"==a?(o.readAsDataURL(i),o.onload=u=>{o.result?r.base=o.result.toString():r.mostrarMensajeError("Esta vac\xedo")}):r.mostrarMensajeError("Formato de imagen incorrecto")}else r.mostrarMensajeError("Pesa mucho")})()}onFileSelected2(n){var r=this;return(0,l.Z)(function*(){const i=n.target.files[0];var o=new FileReader;if(i.size<2e6){var a=i.type.split("/").pop();"jpg"==a||"jpeg"==a||"png"==a?(o.readAsDataURL(i),o.onload=u=>{o.result?r.base2=o.result.toString():r.mostrarMensajeError("Esta vac\xedo")}):r.mostrarMensajeError("Formato de imagen incorrecto")}else r.mostrarMensajeError("Pesa mucho")})()}onFileSelected3(n){var r=this;return(0,l.Z)(function*(){const i=n.target.files[0];var o=new FileReader;if(i.size<2e6){var a=i.type.split("/").pop();"jpg"==a||"jpeg"==a||"png"==a?(o.readAsDataURL(i),o.onload=u=>{o.result?r.base3=o.result.toString():r.mostrarMensajeError("Esta vac\xedo")}):r.mostrarMensajeError("Formato de imagen incorrecto")}else r.mostrarMensajeError("Pesa mucho")})()}verificarConexion(){navigator.onLine&&this.enviarDatosGuardados()}guardarLocalmente(){localStorage.setItem("datosSinConexion",JSON.stringify({Nombre:this.request.Nombre,Descripcion:this.request.Descripcion,Precio:this.request.Precio,Stock:this.request.Stock,Foto1:this.base,Foto2:this.base2,Foto3:this.base3})),this.mostrarNotificacionPush("Datos guardados localmente","Los datos se guardar\xe1n cuando haya conexi\xf3n a Internet.")}enviarDatosGuardados(){const n=localStorage.getItem("datosSinConexion");if(n){const r=JSON.parse(n);this.tiendaService.regiProd(r).subscribe({next:i=>{this.router.navigate(["/dashboard/productos"]),this.mostrarNotificacionPush("Nuevo producto registrado","\xa1Se ha registrado un nuevo producto!"),localStorage.removeItem("datosSinConexion")}})}}guardar(){navigator.onLine?(this.request.Foto1=this.base,this.request.Foto2=this.base2,this.request.Foto3=this.base3,""!=this.request.Nombre?""!=this.request.Descripcion?""!=this.request.Precio?""!=this.request.Stock?this.tiendaService.regiProd(this.request).subscribe({next:n=>{n.result?(this.mostrarNotificacionPush("Nuevo producto registrado","\xa1Se ha registrado un nuevo producto!"),I().fire({position:"top-end",icon:"success",title:n.message,showConfirmButton:!1,timer:1500}),this.router.navigate(["/dashboard/productos"])):I().fire({position:"top-end",icon:"error",title:n.message,showConfirmButton:!1,timer:1500})}}):this.mostrarMensajeError("Falta El Stock"):this.mostrarMensajeError("Falta El Precio"):this.mostrarMensajeError("Falta La Descripcion"):this.mostrarMensajeError("Falta El Nombre")):this.guardarLocalmente()}mostrarMensajeError(n){I().fire({position:"top-end",icon:"error",title:n,showConfirmButton:!1,timer:1500})}mostrarMensajeVal(n){I().fire({position:"top-end",icon:"success",title:n,showConfirmButton:!1,timer:1500})}mostrarNotificacionPush(n,r){"Notification"in window&&Notification.requestPermission().then(function(i){"granted"===i&&new Notification(n,{body:r})})}static#e=this.\u0275fac=function(r){return new(r||e)(s.Y36(Tn.D),s.Y36(K.F0))};static#t=this.\u0275cmp=s.Xpm({type:e,selectors:[["app-registro-p"]],viewQuery:function(r,i){if(1&r&&s.Gf(Kc,5),2&r){let o;s.iGM(o=s.CRH())&&(i.uploader=o.first)}},decls:44,vars:4,consts:[[1,"container","mt-5"],[1,"col-md-8"],[1,"mb-4"],[1,"card"],["action","procesar_registro.php","method","POST","enctype","multipart/form-data"],[1,"form-group"],["for","Nombre"],["type","text","name","Nombre","placeholder","Ingrese el nombre del producto","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","descripcion"],["name","Descripcion","rows","3","placeholder","Ingrese una descripci\xf3n del producto","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","precio"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["type","number","name","Precio","placeholder","Ingrese el precio","step","0.01","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","stock"],["type","number","name","Stock","placeholder","Ingrese la cantidad en stock","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-3"],["for","formFile",1,"form-label"],["type","file","id","formFile","accept","image/*","required","",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(s._UZ(0,"app-menu")(1,"br"),s.TgZ(2,"div",0)(3,"div",1)(4,"h2",2),s._uU(5,"Registro de Producto"),s.qZA(),s.TgZ(6,"div",3)(7,"form",4)(8,"div",5)(9,"label",6),s._uU(10,"Nombre del Producto:"),s.qZA(),s.TgZ(11,"input",7),s.NdJ("ngModelChange",function(a){return i.request.Nombre=a}),s.qZA()(),s.TgZ(12,"div",5)(13,"label",8),s._uU(14,"Descripci\xf3n:"),s.qZA(),s.TgZ(15,"textarea",9),s.NdJ("ngModelChange",function(a){return i.request.Descripcion=a}),s.qZA()(),s.TgZ(16,"div",5)(17,"label",10),s._uU(18,"Precio:"),s.qZA(),s.TgZ(19,"div",11)(20,"div",12)(21,"span",13),s._uU(22,"$"),s.qZA()(),s.TgZ(23,"input",14),s.NdJ("ngModelChange",function(a){return i.request.Precio=a}),s.qZA()()(),s.TgZ(24,"div",5)(25,"label",15),s._uU(26,"Stock:"),s.qZA(),s.TgZ(27,"input",16),s.NdJ("ngModelChange",function(a){return i.request.Stock=a}),s.qZA()(),s.TgZ(28,"div",17)(29,"label",18),s._uU(30,"Foto"),s.qZA(),s.TgZ(31,"input",19),s.NdJ("change",function(a){return i.onFileSelected(a)}),s.qZA()(),s.TgZ(32,"div",17)(33,"label",18),s._uU(34,"Foto"),s.qZA(),s.TgZ(35,"input",19),s.NdJ("change",function(a){return i.onFileSelected2(a)}),s.qZA()(),s.TgZ(36,"div",17)(37,"label",18),s._uU(38,"Foto"),s.qZA(),s.TgZ(39,"input",19),s.NdJ("change",function(a){return i.onFileSelected3(a)}),s.qZA()(),s.TgZ(40,"button",20),s.NdJ("click",function(){return i.guardar()}),s._uU(41,"Registrar Producto"),s.qZA()()()()(),s._UZ(42,"br")(43,"br")),2&r&&(s.xp6(11),s.Q6J("ngModel",i.request.Nombre),s.xp6(4),s.Q6J("ngModel",i.request.Descripcion),s.xp6(8),s.Q6J("ngModel",i.request.Precio),s.xp6(4),s.Q6J("ngModel",i.request.Stock))},dependencies:[ue,g._Y,g.Fj,g.wV,g.JJ,g.JL,g.Q7,g.On,g.F]})}return e})()},{path:"",redirectTo:"inicio",pathMatch:"full"}]}];let Jc=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=s.oAB({type:e});static#n=this.\u0275inj=s.cJS({imports:[K.Bz.forChild(zc),K.Bz]})}return e})();var Qr=_(1397);let Gc=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=s.oAB({type:e});static#n=this.\u0275inj=s.cJS({imports:[V.ez,Qr.q]})}return e})(),Yc=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=s.oAB({type:e});static#n=this.\u0275inj=s.cJS({imports:[V.ez,Jc,Gc,Qr.q,g.u5]})}return e})()}}]);