"use strict";(self.webpackChunksolf=self.webpackChunksolf||[]).push([[727],{8727:(fi,Y,m)=>{m.r(Y),m.d(Y,{GestorModule:()=>mi});var d=m(6895),n=m(4006),t=m(4650);let H=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[d.ez,n.u5]})}return i})();var g=m(8996),j=m(8505),C=m(1572);let O=(()=>{class i{constructor(e,r){this.usuarioService=e,this.router=r}canActivate(e,r){return this.usuarioService.validarToken().pipe((0,j.b)(a=>{a||this.router.navigateByUrl("auth/login")}))}static#t=this.\u0275fac=function(r){return new(r||i)(t.LFG(C.i),t.LFG(g.F0))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Q=(()=>{class i{constructor(e){this.router=e,this.menu=[{titulo:"Menu",icono:"home",submenu:[{titulo:"Inicio",url:"/gestor/inicio"},{titulo:"Mi cuenta",url:"/gestor/perfil"}]},{titulo:"Mantenimientos",icono:"settings",submenu:[{titulo:"Usuarios",url:"/gestor/usuarios"},{titulo:"Logo",url:"/gestor/logo"},{titulo:"Carrusel",url:"/gestor/carruseles"},{titulo:"Estadios",url:"/gestor/estadios"}]},{titulo:"Partidos",icono:"ball",submenu:[{titulo:"Ligas",url:"/gestor/ligas"},{titulo:"Jornadas",url:"/gestor/jornadas"},{titulo:"Equipos",url:"/gestor/equipos"},{titulo:"Jugadores",url:"/gestor/jugadores"}]}]}cargarMenu(){if(this.menu=JSON.parse(localStorage.getItem("menu")||"")||[],0===this.menu.length)return this.router.navigateByUrl("/auth/login")}static#t=this.\u0275fac=function(r){return new(r||i)(t.LFG(g.F0))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var l=m(3267),A=m(7392),z=m(4633),S=m(7084);function R(i,s){if(1&i&&(t.TgZ(0,"p",9),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("routerLink",e.url),t.xp6(1),t.Oqu(e.titulo)}}function D(i,s){if(1&i&&(t.TgZ(0,"mat-accordion")(1,"mat-expansion-panel",6)(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"div",7)(5,"h2")(6,"mat-icon"),t._uU(7),t.qZA(),t._uU(8),t.qZA()()()(),t.YNc(9,R,2,2,"p",8),t.qZA()()),2&i){const e=s.$implicit;t.xp6(7),t.Oqu(e.icono),t.xp6(1),t.Oqu(e.titulo),t.xp6(1),t.Q6J("ngForOf",e.submenu)}}let f=(()=>{class i{constructor(e,r,a){this.usuarioService=e,this.router=r,this.sidebarService=a,this.panelOpenState=!1}ngOnInit(){}logout(){this.usuarioService.logout(),this.router.navigateByUrl("/auth/login")}buscar(e){0!==e.length&&this.router.navigateByUrl(`/gestor/buscar/${e}`)}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(C.i),t.Y36(g.F0),t.Y36(Q))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-navbar"]],decls:7,vars:1,consts:[[1,"lista"],[1,"app-search",3,"submit"],["type","text","placeholder","Buscardor",1,"form-control"],["txtTermino",""],[4,"ngFor","ngForOf"],[1,"tit","cerrar","cursor",3,"click"],["hideToggle",""],[1,"titu"],["class","tit cursor",3,"routerLink",4,"ngFor","ngForOf"],[1,"tit","cursor",3,"routerLink"]],template:function(r,a){if(1&r){const o=t.EpF();t.TgZ(0,"div",0)(1,"form",1),t.NdJ("submit",function(){t.CHM(o);const u=t.MAs(3);return t.KtG(a.buscar(u.value))}),t._UZ(2,"input",2,3),t.qZA(),t.YNc(4,D,10,3,"mat-accordion",4),t.TgZ(5,"mat-list-item",5),t.NdJ("click",function(){return a.logout()}),t._uU(6,"Cerrar Sesion"),t.qZA()()}2&r&&(t.xp6(4),t.Q6J("ngForOf",a.sidebarService.menu))},dependencies:[d.sg,g.rH,A.Hw,z.Tg,S.pp,S.ib,S.yz,S.yK,n._Y,n.JL,n.F],styles:[".lista[_ngcontent-%COMP%]{display:flex;flex-direction:column}.titu[_ngcontent-%COMP%]{display:flex}mat-icon[_ngcontent-%COMP%]{font-size:20px}.tit[_ngcontent-%COMP%]{color:#521a49;font-size:18px}.tit[_ngcontent-%COMP%]:hover{color:#dfd2b0}.cerrar[_ngcontent-%COMP%]{display:flex}mat-expansion-panel[_ngcontent-%COMP%]{background-color:#fff}"]})}return i})(),_=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-header"]],decls:8,vars:0,consts:[[1,"bgsec"],[1,"grupo-2"],[1,"bg"],[1,"container-fluid"],[1,"text-center"],["title","SOLF","routerLink","/gestor/inicio"],["src","../../../../assets/lgn.png","height","80","alt","Solf"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"br"),t.qZA()(),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"a",5),t._UZ(7,"img",6),t.qZA()()()())},dependencies:[g.rH]})}return i})(),K=(()=>{class i{constructor(e,r,a){this.usuarioService=e,this.router=r,this.sidebarService=a,this.usuario=e.usuario}ngOnInit(){this.sidebarService.cargarMenu()}logout(){this.usuarioService.logout(),this.router.navigateByUrl(" auth/login")}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(C.i),t.Y36(g.F0),t.Y36(Q))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-inicio"]],decls:50,vars:1,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"container"],[1,"text-center","hola"],[1,"txt-icon"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header"),t.TgZ(1,"mat-drawer-container",0)(2,"mat-drawer",1,2),t._UZ(4,"app-navbar"),t.qZA(),t.TgZ(5,"mat-drawer-content"),t._UZ(6,"br")(7,"br"),t.TgZ(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(3);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu"),t.qZA(),t._UZ(11,"br")(12,"br")(13,"br")(14,"br"),t.TgZ(15,"div",5)(16,"div",6)(17,"h2",7),t._uU(18),t.TgZ(19,"mat-icon"),t._uU(20,"sports_soccer"),t.qZA()()()(),t._UZ(21,"br")(22,"br")(23,"br")(24,"br")(25,"br")(26,"br")(27,"br")(28,"br")(29,"br")(30,"br")(31,"br")(32,"br")(33,"br")(34,"br")(35,"br")(36,"br")(37,"br")(38,"br")(39,"br")(40,"br")(41,"br")(42,"br")(43,"br")(44,"br")(45,"br")(46,"br")(47,"br")(48,"br")(49,"br"),t.qZA()()}2&r&&(t.xp6(18),t.hij("Hola! Bienvenido ",a.usuario.nombre," "))},dependencies:[l.jA,l.kh,l.LW,A.Hw,f,_],styles:["mat-drawer[_ngcontent-%COMP%]{width:300px;background-color:#dcdfdf}.txt-icon[_ngcontent-%COMP%]{clear:left;text-align:center;vertical-align:middle;line-height:25px}mat-icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}"]})}return i})();var h=m(1005),V=m(5226),p=m.n(V),P=m(4004),k=m(2340),X=m(655),F=m(529);let U=(()=>{class i{constructor(e){this.http=e,this.baseUrl=k.N.base_url}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}transformarUsuarios(e){return e.map(r=>new X.b(r.nombre,r.apellidoP,r.apellidoM,r.email,"",r.img,r.google,r.role,r.status,r.uid))}transformarLigas(e){return e}transformarEquipos(e){return e}transformarJugadores(e){return e}buscar(e,r){return this.http.get(`${this.baseUrl}/todo/coleccion/${e}/${r}`,this.headers).pipe((0,P.U)(o=>{switch(e){case"usuarios":return this.transformarUsuarios(o.resultados);case"ligas":return this.transformarLigas(o.resultados);case"equipos":return this.transformarEquipos(o.resultados);case"jugadores":return this.transformarJugadores(o.resultados);default:return[]}}))}busquedaGlobal(e){return this.http.get(`${this.baseUrl}/todo/${e}`,this.headers)}static#t=this.\u0275fac=function(r){return new(r||i)(t.LFG(F.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),v=(()=>{class i{constructor(){this.baseUrl=k.N.base_url,this._ocultarModal=!0,this.nuevaImagen=new t.vpe}get ocultarModal(){return this._ocultarModal}cerrarModal(){this._ocultarModal=!0}abrirModal(e,r,a="no-image"){this._ocultarModal=!1,this.tipo=e,this.id=r,this.img=a,this.img=a.includes("https")?a:`${this.baseUrl}/upload/${e}/${a}`}static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function B(i,s,e,r,a,o,c){try{var u=i[o](c),b=u.value}catch(w){return void e(w)}u.done?s(b):Promise.resolve(b).then(r,a)}function G(i){return function(){var s=this,e=arguments;return new Promise(function(r,a){var o=i.apply(s,e);function c(b){B(o,r,a,c,u,"next",b)}function u(b){B(o,r,a,c,u,"throw",b)}c(void 0)})}}const W=k.N.base_url;let $=(()=>{class i{actualizarFoto(e,r,a){return G(function*(){try{const o=`${W}/upload/${r}/${a}`,c=new FormData;c.append("imagen",e);const b=yield(yield fetch(o,{method:"PUT",headers:{"x-token":localStorage.getItem("token")||""},body:c})).json();return b.ok?b.nombreArchivo:(console.log(b.msg),!1)}catch(o){return console.error(o),!1}})()}static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const tt=["videoElement"];function et(i,s){if(1&i&&t._UZ(0,"img",19),2&i){const e=t.oxw();t.Q6J("src",e.modalImagenService.img,t.LSH)}}function it(i,s){if(1&i&&t._UZ(0,"img",19),2&i){const e=t.oxw();t.Q6J("src",e.imgTemp,t.LSH)}}function rt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.startCamera())}),t._uU(1,"Acceder a la C\xe1mara"),t.qZA()}}let T=(()=>{class i{constructor(e,r){this.modalImagenService=e,this.fileUploadService=r,this.cameraOn=!1,this.photoTaken=!1,this.photoData="",this.imgTemp=null}ngOnDestroy(){this.cameraOn&&this.videoStream&&(this.cameraOn=!1,this.photoTaken=!1,this.photoData="",this.videoStream.getTracks().forEach(r=>r.stop()))}cerrarModal(){this.cameraOn&&this.videoStream&&(this.cameraOn=!1,this.photoTaken=!1,this.photoData="",this.videoStream.getTracks().forEach(r=>r.stop())),this.imgTemp=null,this.modalImagenService.cerrarModal()}cambiarImagen(e){if(this.imagenSubir=e,!e)return void(this.imgTemp=null);const r=new Image;r.src=URL.createObjectURL(e),r.onload=()=>{if(r.width===r.height){const a=new FileReader;a.readAsDataURL(e),a.onloadend=()=>{this.imgTemp=a.result}}else p().fire("Error","La imagen debe ser de un formato cuadrado","error"),this.cerrarModal()}}cambiarImagenCamara(){this.imgTemp=this.photoData?this.photoData:null}subirImagen(){this.fileUploadService.actualizarFoto(this.imagenSubir,this.modalImagenService.tipo,this.modalImagenService.id).then(a=>{a?(this.modalImagenService.nuevaImagen.emit(a),p().fire("Guardado","Imagen actualizada","success")):p().fire("Error","No es una extension permitida","error"),this.cerrarModal()}).catch(a=>{p().fire("Error",a.error.msg,"error")})}startCamera(){var e=this;return G(function*(){try{e.cameraOn=!0,e.photoTaken=!1,e.videoStream=yield navigator.mediaDevices.getUserMedia({video:!0}),e.videoElement.nativeElement.srcObject=e.videoStream}catch(r){console.error("Error al abrir la c\xe1mara:",r)}})()}takePhoto(){if(this.cameraOn&&this.videoStream){const e=this.videoElement.nativeElement,r=document.createElement("canvas");r.width=e.videoWidth,r.height=e.videoHeight;const a=r.getContext("2d");if(a){a.drawImage(e,0,0),this.photoData=r.toDataURL("image/png"),this.photoTaken=!0,this.cambiarImagenCamara();const o=this.dataURItoBlob(this.photoData),c=`photo_${Date.now()}_${Math.floor(1e5*Math.random())}.png`,u=new File([o],c);this.imagenSubir=u,this.videoStream.getTracks().forEach(w=>w.stop()),this.cameraOn=!1}}}dataURItoBlob(e){const r=atob(e.split(",")[1]),a=new ArrayBuffer(r.length),o=new Uint8Array(a);for(let c=0;c<r.length;c++)o[c]=r.charCodeAt(c);return new Blob([a],{type:"image/png"})}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(v),t.Y36($))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-modal-imagen"]],viewQuery:function(r,a){if(1&r&&t.Gf(tt,5),2&r){let o;t.iGM(o=t.CRH())&&(a.videoElement=o.first)}},outputs:{imagenSubir:"imagenSubir"},decls:27,vars:7,consts:[[1,"fondo-modal-imagen","animated","fadeIn","fast"],["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel1",1,"modal","fade","show",2,"display","block","padding-right","15px"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel1",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-center","video-container"],["autoplay","",3,"hidden"],["videoElement",""],["class","img-avatar",3,"src",4,"ngIf"],["type","file","accept","image/png, image/jpeg, image/jpg",3,"change"],[3,"click",4,"ngIf"],[3,"hidden","click"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"img-avatar",3,"src"],[3,"click"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t._uU(6,"Cargar imagen"),t.qZA(),t.TgZ(7,"button",6),t.NdJ("click",function(){return a.cerrarModal()}),t.TgZ(8,"span",7),t._uU(9,"\xd7"),t.qZA()()(),t.TgZ(10,"div",8)(11,"h3"),t._uU(12,"Seleccione una imagen"),t.qZA(),t.TgZ(13,"div",9),t._UZ(14,"video",10,11),t.YNc(16,et,1,1,"img",12),t.YNc(17,it,1,1,"img",12),t.qZA(),t.TgZ(18,"input",13),t.NdJ("change",function(c){return a.cambiarImagen(c.target.files[0])}),t.qZA(),t.YNc(19,rt,2,0,"button",14),t.TgZ(20,"button",15),t.NdJ("click",function(){return a.takePhoto()}),t._uU(21,"Tomar Foto"),t.qZA()(),t.TgZ(22,"div",16)(23,"button",17),t.NdJ("click",function(){return a.cerrarModal()}),t._uU(24," Cancelar "),t.qZA(),t.TgZ(25,"button",18),t.NdJ("click",function(){return a.subirImagen()}),t._uU(26,"Actualizar imagen"),t.qZA()()()()()()),2&r&&(t.ekj("oculto",a.modalImagenService.ocultarModal),t.xp6(14),t.Q6J("hidden",!a.cameraOn),t.xp6(2),t.Q6J("ngIf",!a.imgTemp),t.xp6(1),t.Q6J("ngIf",a.imgTemp),t.xp6(2),t.Q6J("ngIf",!a.cameraOn),t.xp6(1),t.Q6J("hidden",!a.cameraOn||a.photoTaken))},dependencies:[d.O5],styles:[".video-container[_ngcontent-%COMP%]{width:300px;height:300px;overflow:hidden;position:relative}.video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}"]})}return i})();function at(i,s){1&i&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",15)(3,"h4",16),t._uU(4,"Cargando"),t.qZA(),t._UZ(5,"i",17),t.TgZ(6,"p",18),t._uU(7," Por favor espere "),t.qZA()()()())}function ot(i,s){1&i&&(t.TgZ(0,"span",39),t._uU(1,"Google"),t.qZA())}function nt(i,s){1&i&&(t.TgZ(0,"span",40),t._uU(1,"Email"),t.qZA())}function st(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",29)(2,"img",30),t.NdJ("click",function(){const o=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.abrirModal(o))}),t.qZA()(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"select",31),t.NdJ("ngModelChange",function(a){const c=t.CHM(e).$implicit;return t.KtG(c.role=a)})("change",function(){const o=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.cambiarRole(o))}),t.TgZ(13,"option",32),t._uU(14,"Admin"),t.qZA(),t.TgZ(15,"option",33),t._uU(16,"User"),t.qZA()()(),t.TgZ(17,"td"),t.YNc(18,ot,2,0,"span",34),t.YNc(19,nt,2,0,"span",35),t.qZA(),t.TgZ(20,"td",36)(21,"a",37),t.NdJ("click",function(){const o=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.eliminarUsuario(o))}),t._UZ(22,"i",38),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Q6J("src",e.imagenUrl,t.LSH),t.xp6(2),t.hij(" ",e.email," "),t.xp6(2),t.hij(" ",e.nombre," "),t.xp6(2),t.hij(" ",e.apellidoP," "),t.xp6(2),t.hij(" ",e.apellidoM," "),t.xp6(2),t.Q6J("ngModel",e.role),t.xp6(6),t.Q6J("ngIf",e.google),t.xp6(1),t.Q6J("ngIf",!e.google)}}function ct(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"button",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.cambiarPagina(-5))}),t._uU(2," Anteriores "),t.qZA(),t._uU(3," \xa0 "),t.TgZ(4,"button",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.cambiarPagina(5))}),t._uU(5," Siguientes "),t.qZA()()}}function ut(i,s){if(1&i&&(t.TgZ(0,"div",19)(1,"div",7)(2,"div",8)(3,"div",9)(4,"h4",20),t._uU(5),t.qZA(),t.TgZ(6,"h6",21),t._uU(7," Usuarios registrados en mi aplicacion "),t.qZA(),t.TgZ(8,"div",22)(9,"table",23)(10,"thead")(11,"tr")(12,"th",24),t._uU(13,"Avatar"),t.qZA(),t.TgZ(14,"th",24),t._uU(15,"Correo"),t.qZA(),t.TgZ(16,"th",25),t._uU(17,"Nombre"),t.qZA(),t.TgZ(18,"th",25),t._uU(19,"Apellido Paterno"),t.qZA(),t.TgZ(20,"th",25),t._uU(21,"Apellido Materno"),t.qZA(),t.TgZ(22,"th",25),t._uU(23,"Role"),t.qZA(),t.TgZ(24,"th",24),t._uU(25,"Auth"),t.qZA(),t.TgZ(26,"th",26),t._uU(27,"Acciones"),t.qZA()()(),t.TgZ(28,"tbody"),t.YNc(29,st,23,8,"tr",27),t.qZA()()(),t.YNc(30,ct,6,0,"div",28),t.qZA()()()()),2&i){const e=t.oxw(),r=t.MAs(20);t.xp6(5),t.AsE("Total de usuarios (",e.totalUsuarios,") - ",e.desde," "),t.xp6(24),t.Q6J("ngForOf",e.usuarios),t.xp6(1),t.Q6J("ngIf",0===r.value.length)}}let lt=(()=>{class i{constructor(e,r,a){this.usuarioService=e,this.busquedasService=r,this.modalImagenService=a,this.totalUsuarios=0,this.usuarios=[],this.usuariosTemp=[],this.desde=0,this.cargando=!0}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarUsuarios(),this.imgSubs=this.modalImagenService.nuevaImagen.pipe((0,h.g)(100)).subscribe(e=>this.cargarUsuarios())}cargarUsuarios(){this.cargando=!0,this.usuarioService.cargarUsuarios(this.desde).subscribe(({total:e,usuarios:r})=>{this.totalUsuarios=e,this.usuarios=r,this.usuariosTemp=r,this.cargando=!1})}cambiarPagina(e){this.desde+=e,this.desde<0?this.desde=0:this.desde>=this.totalUsuarios&&(this.desde-=e),this.cargarUsuarios()}buscar(e){return 0===e.length?this.usuarios=this.usuariosTemp:(this.busquedasService.buscar("usuarios",e).subscribe(r=>{this.usuarios=r}),!0)}eliminarUsuario(e){return e.uid===this.usuarioService.uid?p().fire("Error","No puede borrarse a si mismo","error"):(p().fire({title:"\xbfBorrar usuario?",text:`Esta a punto de borrar a ${e.nombre} !`,icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarlo!"}).then(r=>{r.isConfirmed&&this.usuarioService.desactivarUsuario(e).subscribe(()=>{this.cargarUsuarios(),p().fire("Eliminado!",`${e.nombre} fue eliminado correctamente`,"success")})}),!0)}cambiarRole(e){this.usuarioService.cambiarRolUsuario(e).subscribe({next:r=>{p().fire("Actualizado!",`${e.nombre} se le a actualizado su Role por: ${e.role}`,"success")},error:r=>{p().fire("Error",r.error.msg,"error")}})}abrirModal(e){this.modalImagenService.abrirModal("usuarios",e.uid,e.img)}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(C.i),t.Y36(U),t.Y36(v))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-usuarios"]],decls:25,vars:2,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"flex",2,"cursor","pointer"],[1,"conatainer"],[1,"row","animated","fadein","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar usuario...",1,"form-control",3,"keyup"],["txtTermino",""],["class","row animated fadein fast",4,"ngIf"],[1,"container"],["class","row animated fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row","animated","fadeIn","fast"],[1,"card-title"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w140"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center"],["alt","Avatar de usuario",1,"avatar","cursor",3,"src","click"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","ADMIN_ROLE"],["value","USER_ROLE"],["class","label label-danger",4,"ngIf"],["class","label label-info",4,"ngIf"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","borrar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"],[1,"label","label-danger"],[1,"label","label-info"],[1,"btn","bnt-secondary",3,"click"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header"),t.TgZ(1,"mat-drawer-container",0)(2,"mat-drawer",1,2),t._UZ(4,"app-navbar"),t.qZA(),t.TgZ(5,"mat-drawer-content"),t._UZ(6,"br")(7,"br"),t.TgZ(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(3);return t.KtG(u.toggle())}),t.TgZ(9,"mat-icon",4),t._uU(10,"menu"),t.qZA(),t._uU(11,"Menu"),t.qZA(),t._UZ(12,"br")(13,"br"),t.TgZ(14,"div",5)(15,"div",6)(16,"div",7)(17,"div",8)(18,"div",9)(19,"input",10,11),t.NdJ("keyup",function(){t.CHM(o);const u=t.MAs(20);return t.KtG(a.buscar(u.value))}),t.qZA()()()()()(),t.YNc(21,at,8,0,"div",12),t.TgZ(22,"div",13),t.YNc(23,ut,31,4,"div",14),t.qZA()()(),t._UZ(24,"app-modal-imagen")}2&r&&(t.xp6(21),t.Q6J("ngIf",a.cargando),t.xp6(2),t.Q6J("ngIf",!a.cargando))},dependencies:[d.sg,d.O5,l.jA,l.kh,l.LW,A.Hw,n.YN,n.Kr,n.EJ,n.JJ,n.On,T,f,_]})}return i})();function dt(i,s){if(1&i&&t._UZ(0,"img",30),2&i){const e=t.oxw();t.Q6J("src",e.usuario.imagenUrl,t.LSH)}}function pt(i,s){if(1&i&&t._UZ(0,"img",30),2&i){const e=t.oxw();t.Q6J("src",e.imgTemp,t.LSH)}}let gt=(()=>{class i{constructor(e,r,a){this.fb=e,this.usuarioService=r,this.fileUploadService=a,this.imgTemp="",this.usuario=r.usuario}ngOnInit(){this.miFormulario=this.fb.group({nombre:[this.usuario.nombre,n.kI.required],apellidoP:[this.usuario.apellidoP,n.kI.required],apellidoM:[this.usuario.apellidoM,n.kI.required],email:[this.usuario.email,[n.kI.required,n.kI.email]]})}actualizarPerfil(){this.usuarioService.actualizarPerfil(this.miFormulario.value).subscribe({next:e=>{const{nombre:r,email:a}=this.miFormulario.value;this.usuario.nombre=r,this.usuario.email=a,p().fire("Guardado","Los cambios fueron guardados","success")},error:e=>{p().fire("Error",e.error.msg,"error")}})}cambiarImagen(e){if(this.imagenSubir=e,!e)return void(this.imgTemp=null);const r=new FileReader;r.readAsDataURL(e),r.onloadend=()=>{this.imgTemp=r.result}}subirImagen(){this.fileUploadService.actualizarFoto(this.imagenSubir,"usuarios",this.usuario.uid).then(e=>{this.usuario.img=e,e?p().fire("Guardado","Imagen actualizada","success"):p().fire("Error","Extension no permitida","error")}).catch(e=>{p().fire("Error",e.error.msg,"error")})}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(n.qu),t.Y36(C.i),t.Y36($))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-perfil"]],decls:70,vars:6,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-subtitle","text-center"],[1,"form","p-t-20",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname","placeholder","Username","formControlName","nombre",1,"form-control"],["type","text","id","exampleInputuname","placeholder","Username","formControlName","apellidoP",1,"form-control"],["type","text","id","exampleInputuname","placeholder","Username","formControlName","apellidoM",1,"form-control"],["for","exampleInputEmail1"],[1,"ti-email"],["type","email","id","exampleInputEmail1","placeholder","Enter email","formControlName","email",1,"form-control",3,"readOnly"],["type","submit",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],[1,"text-center"],["class","img-avatar",3,"src",4,"ngIf"],["type","file",3,"change"],["type","button",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled","click"],[1,"img-avatar",3,"src"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header")(1,"br")(2,"br"),t.TgZ(3,"mat-drawer-container",0)(4,"mat-drawer",1,2),t._UZ(6,"app-navbar"),t.qZA(),t.TgZ(7,"mat-drawer-content")(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(5);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu"),t.qZA(),t._UZ(11,"br")(12,"br"),t.TgZ(13,"div",5)(14,"div",6)(15,"div",7)(16,"div",8)(17,"div",9)(18,"h2",10),t._uU(19,"Mi perfil de usuario"),t.qZA(),t.TgZ(20,"h3",11),t._uU(21,"Ajustes"),t.qZA(),t.TgZ(22,"form",12),t.NdJ("ngSubmit",function(){return a.actualizarPerfil()}),t.TgZ(23,"div",13)(24,"label",14),t._uU(25,"Nombre"),t.qZA(),t.TgZ(26,"div",15)(27,"div",16),t._UZ(28,"i",17),t.qZA(),t._UZ(29,"input",18),t.qZA()(),t.TgZ(30,"div",13)(31,"label",14),t._uU(32,"Apellido Paterno"),t.qZA(),t.TgZ(33,"div",15)(34,"div",16),t._UZ(35,"i",17),t.qZA(),t._UZ(36,"input",19),t.qZA()(),t.TgZ(37,"div",13)(38,"label",14),t._uU(39,"Apellido Materno"),t.qZA(),t.TgZ(40,"div",15)(41,"div",16),t._UZ(42,"i",17),t.qZA(),t._UZ(43,"input",20),t.qZA()(),t.TgZ(44,"div",13)(45,"label",21),t._uU(46,"Email address"),t.qZA(),t.TgZ(47,"div",15)(48,"div",16),t._UZ(49,"i",22),t.qZA(),t._UZ(50,"input",23),t.qZA()(),t.TgZ(51,"button",24),t._UZ(52,"i",25),t._uU(53," Guardar cambios "),t.qZA()()()()(),t.TgZ(54,"div",7)(55,"div",8)(56,"div",9)(57,"h2",10),t._uU(58,"Avatar"),t.qZA(),t.TgZ(59,"h3",11),t._uU(60,"Imagen del usuario"),t.qZA(),t.TgZ(61,"div",26),t.YNc(62,dt,1,1,"img",27),t.YNc(63,pt,1,1,"img",27),t.qZA(),t.TgZ(64,"input",28),t.NdJ("change",function(u){return a.cambiarImagen(u.target.files[0])}),t.qZA(),t._UZ(65,"br")(66,"br"),t.TgZ(67,"button",29),t.NdJ("click",function(){return a.subirImagen()}),t._UZ(68,"i",25),t._uU(69," Cambiar imagen "),t.qZA()()()()()()()()}2&r&&(t.xp6(22),t.Q6J("formGroup",a.miFormulario),t.xp6(28),t.Q6J("readOnly",a.usuario.google),t.xp6(1),t.Q6J("disabled",a.miFormulario.invalid),t.xp6(11),t.Q6J("ngIf",!a.imgTemp),t.xp6(1),t.Q6J("ngIf",a.imgTemp),t.xp6(4),t.Q6J("disabled",!a.imagenSubir))},dependencies:[d.O5,l.jA,l.kh,l.LW,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,f,_],styles:[".img-avatar[_ngcontent-%COMP%]{height:200px;width:200px}.avatar[_ngcontent-%COMP%]{border-radius:100%;width:40px}"]})}return i})();var J=m(2311),q=m(646);function mt(i,s){1&i&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",14)(3,"h4",15),t._uU(4,"Cargando"),t.qZA(),t._UZ(5,"i",16),t.TgZ(6,"p",17),t._uU(7," Por favor espere "),t.qZA()()()())}const _t=function(i){return["/gestor/liga",i]};function ft(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",30)(2,"img",31),t.NdJ("click",function(){const o=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.abrirModal(o))}),t.ALo(3,"imagen"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",32)(7,"a",33),t._UZ(8,"i",34),t.qZA(),t.TgZ(9,"a",35),t.NdJ("click",function(){const o=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.borrarLiga(o))}),t._UZ(10,"i",36),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Q6J("src",t.xi3(3,4,e.img,"ligas"),t.LSH)("alt",e.nombre),t.xp6(3),t.hij(" ",e.nombre," "),t.xp6(2),t.Q6J("routerLink",t.VKq(7,_t,e._id))}}function ht(i,s){if(1&i&&(t.TgZ(0,"div",18)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",18)(5,"div",19)(6,"h4",20),t._uU(7),t.qZA(),t.TgZ(8,"h6",21),t._uU(9," Ligas registradas "),t.qZA()(),t.TgZ(10,"div",22)(11,"div",23)(12,"a",24),t._UZ(13,"i",25),t._uU(14," Crear Liga "),t.qZA()()()(),t.TgZ(15,"div",26)(16,"table",27)(17,"thead")(18,"tr")(19,"th"),t._uU(20,"Foto"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Nombre"),t.qZA(),t.TgZ(23,"th",28),t._uU(24,"Acciones"),t.qZA()()(),t.TgZ(25,"tbody"),t.YNc(26,ft,11,9,"tr",29),t.qZA()()()()()()()),2&i){const e=t.oxw();t.xp6(7),t.hij("Ligas (",e.ligas.length,") "),t.xp6(19),t.Q6J("ngForOf",e.ligas)}}let Zt=(()=>{class i{constructor(e,r,a){this.ligaService=e,this.modalImagenService=r,this.busquedasService=a,this.cargando=!0,this.ligas=[],this.ligasTemp=[]}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarLigas(),this.imgSubs=this.modalImagenService.nuevaImagen.pipe((0,h.g)(100)).subscribe(e=>this.cargarLigas())}cargarLigas(){this.cargando=!0,this.ligaService.getLigasStatusTrue().subscribe(e=>{this.cargando=!1,this.ligasTemp=e,this.ligas=e})}abrirModal(e){this.modalImagenService.abrirModal("ligas",e._id,e.img)}buscar(e){return 0===e.length?this.ligas=this.ligasTemp:(this.busquedasService.buscar("ligas",e).subscribe(r=>{this.ligas=r}),!0)}borrarLiga(e){p().fire({title:"\xbfBorrar liga?",text:`Esta a punto de borrar a ${e.nombre} !`,icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarlo!"}).then(r=>{r.isConfirmed&&this.ligaService.desactivarLiga(e).subscribe(()=>{this.cargarLigas(),p().fire("Eliminado!",`${e.nombre} fue eliminado correctamente`,"success")})})}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(J.O),t.Y36(v),t.Y36(U))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-ligas"]],decls:22,vars:2,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"container"],[1,"row","animated","fadein","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar liga...",1,"form-control",3,"keyup"],["txtTermino",""],["class","row animated fadein fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col"],[1,"text-right"],["routerLink","/gestor/liga/nuevo",1,"btn","btn-primary"],[1,"fa","fa-trophy"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"text-nowrap","txt-center"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"w100","cursor",3,"src","alt","click"],[1,"text-nowrap"],["data-toggle","tooltip","data-original-title","Editar",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","borrar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header")(1,"br")(2,"br"),t.TgZ(3,"mat-drawer-container",0)(4,"mat-drawer",1,2),t._UZ(6,"app-navbar"),t.qZA(),t.TgZ(7,"mat-drawer-content")(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(5);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu"),t.qZA(),t.TgZ(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"input",10,11),t.NdJ("keyup",function(){t.CHM(o);const u=t.MAs(17);return t.KtG(a.buscar(u.value))}),t.qZA()()()()()(),t.YNc(18,mt,8,0,"div",12),t.TgZ(19,"div",5),t.YNc(20,ht,27,2,"div",13),t.qZA()()(),t._UZ(21,"app-modal-imagen")}2&r&&(t.xp6(18),t.Q6J("ngIf",a.cargando),t.xp6(2),t.Q6J("ngIf",!a.cargando))},dependencies:[d.sg,d.O5,g.rH,l.jA,l.kh,l.LW,T,f,_,q.$],encapsulation:2})}return i})();var y=m(2797);function bt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"label",15),t._uU(2,"Foto"),t.qZA(),t.TgZ(3,"div",16)(4,"div",17)(5,"td",37)(6,"img",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.abrirModal(a.ligaSeleccionada))}),t.ALo(7,"imagen"),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("src",t.xi3(7,2,e.ligaSeleccionada.img,"ligas"),t.LSH)("alt",e.ligaSeleccionada.nombre)}}function vt(i,s){1&i&&(t.TgZ(0,"span",39),t._uU(1," Nombre no valido "),t.qZA())}function Tt(i,s){1&i&&(t.TgZ(0,"span",39),t._uU(1," Descripcion no valido no valido "),t.qZA())}function qt(i,s){if(1&i&&(t.TgZ(0,"option",40),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function At(i,s){if(1&i&&(t.TgZ(0,"option",40),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function Ut(i,s){1&i&&(t.TgZ(0,"span",39),t._uU(1," Edad no valido no valido "),t.qZA())}function xt(i,s){1&i&&(t.TgZ(0,"span",39),t._uU(1," Edad no valido no valido "),t.qZA())}let Ct=(()=>{class i{constructor(e,r,a,o,c,u){this.fb=e,this.vS=r,this.ligasService=a,this.router=o,this.activateRoute=c,this.modalImagenService=u,this.categorias=[],this.juegos=[]}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.activateRoute.params.subscribe(({id:e})=>{this.cargarLiga(e)}),this.ligaForm=this.fb.group({nombre:["",[n.kI.required]],descripcion:["",[n.kI.required]],tipoCategoria:["",n.kI.required],tipoJuego:["",n.kI.required],edadMax:["",n.kI.required],edadMin:["",n.kI.required]}),this.juegos=this.ligasService.juegos,this.categorias=this.ligasService.categorias}actualizarImagen(e){this.imgSubs=this.modalImagenService.nuevaImagen.pipe((0,h.g)(100)).subscribe(r=>this.cargarLiga(e))}abrirModal(e){this.modalImagenService.abrirModal("ligas",e._id,e.img)}guardarLiga(){const{nombre:e}=this.ligaForm.value;if(this.ligaSeleccionada){const r={...this.ligaForm.value,_id:this.ligaSeleccionada._id};this.ligasService.actualizarLiga(r).subscribe(a=>{p().fire("Liga Actualizada",`${e} Actualizado correctamente`,"success")})}else this.ligasService.agregarLiga(this.ligaForm.value).subscribe(r=>{console.log(r),p().fire("Creado",`${e} creado correctamente`,"success"),this.router.navigateByUrl(`/gestor/liga/${r.liga._id}`)})}cargarLiga(e){"nuevo"!==e&&this.ligasService.getLigaPorId(e).pipe((0,h.g)(100)).subscribe(r=>{if(!r)return this.router.navigateByUrl("/gestor/ligas");this.actualizarImagen(e);const{nombre:a,descripcion:o,tipoCategoria:c,tipoJuego:u}=r;return this.ligaSeleccionada=r,this.ligaForm.setValue({nombre:a,descripcion:o,tipoCategoria:c,tipoJuego:u}),!0})}campoNoEsValido(e){return this.ligaForm.controls[e]?.errors&&this.ligaForm.controls[e].touched}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(n.qu),t.Y36(y.o),t.Y36(J.O),t.Y36(g.F0),t.Y36(g.gz),t.Y36(v))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-liga"]],decls:86,vars:9,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-subtitle","text-center"],[1,"form-horizontal","p-t-20",3,"formGroup","submit"],["class","form-group row",4,"ngIf"],[1,"form-group","row"],["for","exampleInputuname3",1,"col-sm-3","control-label"],[1,"col-sm-9"],[1,"input-group"],[1,"input-group-addon"],[1,"fa","fa-trophy"],["type","text","placeholder","Nombre de la liga","formControlName","nombre",1,"form-control"],["align","center"],["class","form-text text-danger",4,"ngIf"],[1,"ti-text"],["type","text","placeholder","Descripcion de la liga","formControlName","descripcion",1,"form-control"],["for","exampleInputEmail3",1,"col-sm-3","control-label"],["formControlName","tipoCategoria",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","tipoJuego",1,"form-control"],[1,"ti-user"],["type","text","placeholder","Edad minima Para jugar","formControlName","edadMin",1,"form-control"],["type","text","placeholder","Edad Maxima Para jugar","formControlName","edadMax",1,"form-control"],[1,"form-group","row","m-b-0"],[1,"offset-sm-3","col-sm-9"],["type","submit",1,"btn","btn-success","waves-effect","waves-light",3,"disabled"],[1,"fa","fa-save"],[1,"text-center"],[1,"w140","cursor",3,"src","alt","click"],[1,"form-text","text-danger"],[3,"value"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header"),t.TgZ(1,"mat-drawer-container",0)(2,"mat-drawer",1,2),t._UZ(4,"app-navbar"),t.qZA(),t.TgZ(5,"mat-drawer-content"),t._UZ(6,"br")(7,"br"),t.TgZ(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(3);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu "),t.qZA(),t.TgZ(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h3",10),t._uU(17,"Nueva liga"),t.qZA(),t.TgZ(18,"h4",11),t._uU(19,"Actualizar informacion"),t.qZA(),t.TgZ(20,"form",12),t.NdJ("submit",function(){return a.guardarLiga()}),t.YNc(21,bt,8,5,"div",13),t.TgZ(22,"div",14)(23,"label",15),t._uU(24,"Nombre"),t.qZA(),t.TgZ(25,"div",16)(26,"div",17)(27,"div",18),t._UZ(28,"i",19),t.qZA(),t._UZ(29,"input",20),t.qZA()(),t.TgZ(30,"div",21),t.YNc(31,vt,2,0,"span",22),t.qZA()(),t.TgZ(32,"div",14)(33,"label",15),t._uU(34,"Descripcion"),t.qZA(),t.TgZ(35,"div",16)(36,"div",17)(37,"div",18),t._UZ(38,"i",23),t.qZA(),t._UZ(39,"input",24),t.qZA(),t.TgZ(40,"div",21),t.YNc(41,Tt,2,0,"span",22),t.qZA()()(),t.TgZ(42,"div",14)(43,"label",25),t._uU(44,"Categoria"),t.qZA(),t.TgZ(45,"div",16)(46,"div",17)(47,"select",26)(48,"option",27),t._uU(49,"Seleccione la categoria"),t.qZA(),t.YNc(50,qt,3,4,"option",28),t.qZA()()()(),t.TgZ(51,"div",14)(52,"label",25),t._uU(53,"Juego"),t.qZA(),t.TgZ(54,"div",16)(55,"div",17)(56,"select",29)(57,"option",27),t._uU(58,"Seleccione el juego"),t.qZA(),t.YNc(59,At,3,4,"option",28),t.qZA()()()(),t.TgZ(60,"div",14)(61,"label",15),t._uU(62,"Edad minima"),t.qZA(),t.TgZ(63,"div",16)(64,"div",17)(65,"div",18),t._UZ(66,"i",30),t.qZA(),t._UZ(67,"input",31),t.qZA(),t.TgZ(68,"div",21),t.YNc(69,Ut,2,0,"span",22),t.qZA()()(),t.TgZ(70,"div",14)(71,"label",15),t._uU(72,"Edad Maxima"),t.qZA(),t.TgZ(73,"div",16)(74,"div",17)(75,"div",18),t._UZ(76,"i",30),t.qZA(),t._UZ(77,"input",32),t.qZA(),t.TgZ(78,"div",21),t.YNc(79,xt,2,0,"span",22),t.qZA()()(),t.TgZ(80,"div",33)(81,"div",34)(82,"button",35),t._UZ(83,"i",36),t._uU(84," Guardar "),t.qZA()()()()()()()()()()(),t._UZ(85,"app-modal-imagen")}2&r&&(t.xp6(20),t.Q6J("formGroup",a.ligaForm),t.xp6(1),t.Q6J("ngIf",a.ligaSeleccionada),t.xp6(10),t.Q6J("ngIf",a.campoNoEsValido("nombre")),t.xp6(10),t.Q6J("ngIf",a.campoNoEsValido("descripcion")),t.xp6(9),t.Q6J("ngForOf",a.categorias),t.xp6(9),t.Q6J("ngForOf",a.juegos),t.xp6(10),t.Q6J("ngIf",a.campoNoEsValido("edadMin")),t.xp6(10),t.Q6J("ngIf",a.campoNoEsValido("edadMax")),t.xp6(3),t.Q6J("disabled",a.ligaForm.invalid))},dependencies:[d.sg,d.O5,l.jA,l.kh,l.LW,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u,T,f,_,d.rS,q.$],encapsulation:2})}return i})();var E=m(7716);function Jt(i,s){1&i&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",14)(3,"h4",15),t._uU(4,"Cargando"),t.qZA(),t._UZ(5,"i",16),t.TgZ(6,"p",17),t._uU(7," Por favor espere "),t.qZA()()()())}const It=function(i){return["/gestor/equipo",i]};function wt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",30)(2,"img",31),t.NdJ("click",function(){const o=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.abrirModal(o))}),t.ALo(3,"imagen"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",32)(7,"a",33),t._UZ(8,"i",34),t.qZA(),t.TgZ(9,"a",35),t.NdJ("click",function(){const o=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.borrarEquipo(o))}),t._UZ(10,"i",36),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Q6J("src",t.xi3(3,4,e.img,"equipos"),t.LSH)("alt",e.nombre),t.xp6(3),t.hij(" ",e.nombre," "),t.xp6(2),t.Q6J("routerLink",t.VKq(7,It,e._id))}}function St(i,s){if(1&i&&(t.TgZ(0,"div",18)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",18)(5,"div",19)(6,"h4",20),t._uU(7),t.qZA(),t.TgZ(8,"h6",21),t._uU(9," Ligas registradas "),t.qZA()(),t.TgZ(10,"div",22)(11,"div",23)(12,"a",24),t._UZ(13,"i",25),t._uU(14," Crear Equipo "),t.qZA()()()(),t.TgZ(15,"div",26)(16,"table",27)(17,"thead")(18,"tr")(19,"th"),t._uU(20,"Foto"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Nombre"),t.qZA(),t.TgZ(23,"th",28),t._uU(24,"Acciones"),t.qZA()()(),t.TgZ(25,"tbody"),t.YNc(26,wt,11,9,"tr",29),t.qZA()()()()()()()),2&i){const e=t.oxw();t.xp6(7),t.hij("Equipos (",e.equipos.length,") "),t.xp6(19),t.Q6J("ngForOf",e.equipos)}}let kt=(()=>{class i{constructor(e,r,a){this.equiposService=e,this.modalImagenService=r,this.busquedasService=a,this.cargando=!0,this.equipos=[],this.equiposTemp=[]}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarEquipos(),this.imgSubs=this.modalImagenService.nuevaImagen.pipe((0,h.g)(100)).subscribe(e=>this.cargarEquipos())}cargarEquipos(){this.cargando=!0,this.equiposService.getEquiposStatusTrue().subscribe(e=>{this.cargando=!1,this.equiposTemp=e,this.equipos=e})}abrirModal(e){this.modalImagenService.abrirModal("equipos",e._id,e.img)}buscar(e){return 0===e.length?this.equipos=this.equiposTemp:(this.busquedasService.buscar("equipos",e).subscribe(r=>{this.equipos=r}),!0)}borrarEquipo(e){p().fire({title:"\xbfBorrar Equipo?",text:`Esta a punto de borrar a ${e.nombre} !`,icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarlo!"}).then(r=>{r.isConfirmed&&this.equiposService.desactivarEquipo(e).subscribe(()=>{this.cargarEquipos(),p().fire("Eliminado!",`${e.nombre} fue eliminado correctamente`,"success")})})}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(E.u),t.Y36(v),t.Y36(U))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-equipos"]],decls:23,vars:2,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"container"],[1,"row","animated","fadein","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar equipo...",1,"form-control",3,"keyup"],["txtTermino",""],["class","row animated fadein fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col"],[1,"text-right"],["routerLink","/gestor/equipo/nuevo",1,"btn","btn-primary"],[1,"fa","fa-shield"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"text-nowrap","txt-center"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"w100","cursor",3,"src","alt","click"],[1,"text-nowrap"],["data-toggle","tooltip","data-original-title","Editar",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","borrar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header")(1,"br")(2,"br"),t.TgZ(3,"mat-drawer-container",0)(4,"mat-drawer",1,2),t._UZ(6,"app-navbar"),t.qZA(),t.TgZ(7,"mat-drawer-content")(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(5);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu"),t.qZA(),t._UZ(11,"br"),t.TgZ(12,"div",5)(13,"div",6)(14,"div",7)(15,"div",8)(16,"div",9)(17,"input",10,11),t.NdJ("keyup",function(){t.CHM(o);const u=t.MAs(18);return t.KtG(a.buscar(u.value))}),t.qZA()()()()()(),t.YNc(19,Jt,8,0,"div",12),t.TgZ(20,"div",5),t.YNc(21,St,27,2,"div",13),t.qZA()()(),t._UZ(22,"app-modal-imagen")}2&r&&(t.xp6(19),t.Q6J("ngIf",a.cargando),t.xp6(2),t.Q6J("ngIf",!a.cargando))},dependencies:[d.sg,d.O5,g.rH,l.jA,l.kh,l.LW,T,f,_,q.$],encapsulation:2})}return i})();function yt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"label",15),t._uU(2,"Foto"),t.qZA(),t.TgZ(3,"div",16)(4,"div",17)(5,"td",34)(6,"img",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.abrirModal(a.equipoSeleccionado))}),t.ALo(7,"imagen"),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("src",t.xi3(7,2,e.equipoSeleccionado.img,"equipos"),t.LSH)("alt",e.equipoSeleccionado.nombre)}}function Ft(i,s){1&i&&(t.TgZ(0,"span",36),t._uU(1," Nombre no valido "),t.qZA())}function Et(i,s){1&i&&(t.TgZ(0,"span",36),t._uU(1," Descripcion no valido no valido "),t.qZA())}function Nt(i,s){if(1&i&&(t.TgZ(0,"option",37),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e._id),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.nombre)," ")}}function Lt(i,s){if(1&i&&(t.TgZ(0,"div",38)(1,"div",8)(2,"div",9)(3,"h1",39),t._uU(4,"Liga"),t.qZA(),t.TgZ(5,"h2",40),t._uU(6),t.qZA(),t.TgZ(7,"h3",40),t._uU(8),t.qZA(),t.TgZ(9,"h3",40),t._uU(10),t.qZA(),t.TgZ(11,"h3",40),t._uU(12),t.qZA(),t._UZ(13,"img",41),t.ALo(14,"imagen"),t.qZA()()()),2&i){const e=t.oxw();t.xp6(6),t.hij(" ",e.ligaSeleccionada.nombre," "),t.xp6(2),t.hij(" descripcion: ",e.ligaSeleccionada.descripcion," "),t.xp6(2),t.hij(" categoria: ",e.ligaSeleccionada.tipoCategoria," "),t.xp6(2),t.hij(" juego: ",e.ligaSeleccionada.tipoJuego," "),t.xp6(1),t.Q6J("src",t.xi3(14,5,e.ligaSeleccionada.img,"ligas"),t.LSH)}}let Mt=(()=>{class i{constructor(e,r,a,o,c,u,b){this.vS=e,this.fb=r,this.equiposService=a,this.ligasService=o,this.router=c,this.activateRoute=u,this.modalImagenService=b,this.ligas=[],this.formSubmitted=!1}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.activateRoute.params.subscribe(({id:e})=>{this.cargarEquipo(e)}),this.equipoForm=this.fb.group({nombre:["",n.kI.required,n.kI.minLength(3),n.kI.pattern(this.vS.nombresPattern)],descripcion:["",n.kI.required,n.kI.minLength(3),n.kI.maxLength(50)],liga:["",n.kI.required]}),this.cargarLigas(),this.equipoForm.get("liga").valueChanges.subscribe(e=>{this.ligaSeleccionada=this.ligas.find(r=>r._id===e)})}cargarLigas(){this.ligasService.getLigasStatusTrue().subscribe(e=>{this.ligas=e})}guardarEquipo(){if(this.formSubmitted=!0,this.equipoForm.invalid)return void this.equipoForm.markAllAsTouched();const{nombre:e}=this.equipoForm.value;if(this.equipoSeleccionado){const r={...this.equipoForm.value,_id:this.equipoSeleccionado._id};this.equiposService.actualizarEquipo(r).subscribe(()=>{p().fire("Equipo Actualizado",`${e} Actualizado correctamente`,"success")})}else this.equiposService.agregarEquipo(this.equipoForm.value).subscribe(r=>{p().fire("Creado",`${e} creado correctamente`,"success"),this.router.navigateByUrl(`/gestor/equipo/${r.equipo._id}`)})}cargarEquipo(e){"nuevo"!==e&&this.equiposService.getEquipoPorId(e).pipe((0,h.g)(100)).subscribe(r=>{if(!r)return this.router.navigateByUrl("/gestor/equipos");this.actualizarImagen(e);const{nombre:a,descripcion:o,liga:{_id:c}}=r;return this.equipoSeleccionado=r,this.equipoForm.setValue({nombre:a,descripcion:o,liga:c}),!0})}actualizarImagen(e){this.imgSubs=this.modalImagenService.nuevaImagen.pipe((0,h.g)(100)).subscribe(r=>this.cargarEquipo(e))}abrirModal(e){this.modalImagenService.abrirModal("equipos",e._id,e.img)}campoNoEsValido(e){return this.equipoForm.controls[e]?.errors&&this.equipoForm.controls[e].touched}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(y.o),t.Y36(n.qu),t.Y36(E.u),t.Y36(J.O),t.Y36(g.F0),t.Y36(g.gz),t.Y36(v))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-equipo"]],decls:58,vars:7,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-subtitle","text-center"],[1,"form-horizontal","p-t-20",3,"formGroup","submit"],["class","form-group row",4,"ngIf"],[1,"form-group","row"],["for","exampleInputuname3",1,"col-sm-3","control-label"],[1,"col-sm-9"],[1,"input-group"],[1,"input-group-addon"],[1,"fa","fa-shield"],["type","text","placeholder","Nombre del equipo","formControlName","nombre",1,"form-control"],["align","center"],["class","form-text text-danger",4,"ngIf"],[1,"ti-text"],["type","text","placeholder","Descripcion del equipo","formControlName","descripcion",1,"form-control"],["for","exampleInputEmail3",1,"col-sm-3","control-label"],["formControlName","liga",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","row","m-b-0"],[1,"offset-sm-3","col-sm-9"],["type","submit",1,"btn","btn-success","waves-effect","waves-light",3,"disabled"],[1,"fa","fa-save"],["class","col animated fadeIn fast",4,"ngIf"],[1,"text-center"],[1,"w140","cursor",3,"src","alt","click"],[1,"form-text","text-danger"],[3,"value"],[1,"col","animated","fadeIn","fast"],[1,"card-title"],[1,"card-subtitle"],[1,"img-thumbnail",3,"src"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header")(1,"br")(2,"br"),t.TgZ(3,"mat-drawer-container",0)(4,"mat-drawer",1,2),t._UZ(6,"app-navbar"),t.qZA(),t.TgZ(7,"mat-drawer-content")(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(5);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu"),t.qZA(),t.TgZ(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h3",10),t._uU(17,"Nuevo Equipo"),t.qZA(),t.TgZ(18,"h4",11),t._uU(19,"Actualizar informacion"),t.qZA(),t.TgZ(20,"form",12),t.NdJ("submit",function(){return a.guardarEquipo()}),t.YNc(21,yt,8,5,"div",13),t.TgZ(22,"div",14)(23,"label",15),t._uU(24,"Nombre"),t.qZA(),t.TgZ(25,"div",16)(26,"div",17)(27,"div",18),t._UZ(28,"i",19),t.qZA(),t._UZ(29,"input",20),t.qZA()()(),t.TgZ(30,"div",21),t.YNc(31,Ft,2,0,"span",22),t.qZA(),t.TgZ(32,"div",14)(33,"label",15),t._uU(34,"Descripcion"),t.qZA(),t.TgZ(35,"div",16)(36,"div",17)(37,"div",18),t._UZ(38,"i",23),t.qZA(),t._UZ(39,"input",24),t.qZA()(),t.TgZ(40,"div",21),t.YNc(41,Et,2,0,"span",22),t.qZA()(),t.TgZ(42,"div",14)(43,"label",25),t._uU(44,"Liga"),t.qZA(),t.TgZ(45,"div",16)(46,"div",17)(47,"select",26)(48,"option",27),t._uU(49,"Seleccione la Liga"),t.qZA(),t.YNc(50,Nt,3,4,"option",28),t.qZA()()()(),t.TgZ(51,"div",29)(52,"div",30)(53,"button",31),t._UZ(54,"i",32),t._uU(55," Guardar "),t.qZA()()()()()()(),t.YNc(56,Lt,15,8,"div",33),t.qZA()()()(),t._UZ(57,"app-modal-imagen")}2&r&&(t.xp6(20),t.Q6J("formGroup",a.equipoForm),t.xp6(1),t.Q6J("ngIf",a.equipoSeleccionado),t.xp6(10),t.Q6J("ngIf",a.campoNoEsValido("nombre")),t.xp6(10),t.Q6J("ngIf",a.campoNoEsValido("descripcion")),t.xp6(9),t.Q6J("ngForOf",a.ligas),t.xp6(3),t.Q6J("disabled",a.equipoForm.invalid),t.xp6(3),t.Q6J("ngIf",a.ligaSeleccionada))},dependencies:[d.sg,d.O5,l.jA,l.kh,l.LW,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u,T,f,_,d.rS,q.$],encapsulation:2})}return i})();var N=m(2418);function Yt(i,s){1&i&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",14)(3,"h4",15),t._uU(4,"Cargando"),t.qZA(),t._UZ(5,"i",16),t.TgZ(6,"p",17),t._uU(7," Por favor espere "),t.qZA()()()())}const jt=function(i){return["/gestor/jugador",i]};function Ot(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",30)(2,"img",31),t.NdJ("click",function(){const o=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.abrirModal(o))}),t.ALo(3,"imagen"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",32)(7,"a",33),t._UZ(8,"i",34),t.qZA(),t.TgZ(9,"a",35),t.NdJ("click",function(){const o=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.borrarJugador(o))}),t._UZ(10,"i",36),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Q6J("src",t.xi3(3,4,e.img,"jugadores"),t.LSH)("alt",e.nombre),t.xp6(3),t.hij(" ",e.nombre," "),t.xp6(2),t.Q6J("routerLink",t.VKq(7,jt,e._id))}}function Qt(i,s){if(1&i&&(t.TgZ(0,"div",18)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",18)(5,"div",19)(6,"h4",20),t._uU(7),t.qZA(),t.TgZ(8,"h6",21),t._uU(9," jugadores registrados "),t.qZA()(),t.TgZ(10,"div",22)(11,"div",23)(12,"a",24),t._UZ(13,"i",25),t._uU(14," Crear Jugador "),t.qZA()()()(),t.TgZ(15,"div",26)(16,"table",27)(17,"thead")(18,"tr")(19,"th"),t._uU(20,"Foto"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Nombre"),t.qZA(),t.TgZ(23,"th",28),t._uU(24,"Acciones"),t.qZA()()(),t.TgZ(25,"tbody"),t.YNc(26,Ot,11,9,"tr",29),t.qZA()()()()()()()),2&i){const e=t.oxw();t.xp6(7),t.hij("Jugadores (",e.jugadores.length,") "),t.xp6(19),t.Q6J("ngForOf",e.jugadores)}}let Pt=(()=>{class i{constructor(e,r,a){this.jugadoresService=e,this.modalImagenService=r,this.busquedasService=a,this.cargando=!0,this.jugadores=[],this.jugadoresTemp=[]}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarJugadores(),this.imgSubs=this.modalImagenService.nuevaImagen.pipe((0,h.g)(100)).subscribe(e=>this.cargarJugadores())}cargarJugadores(){this.cargando=!0,this.jugadoresService.getJugadoresStatusTrue().subscribe(e=>{this.cargando=!1,this.jugadoresTemp=e,this.jugadores=e})}abrirModal(e){this.modalImagenService.abrirModal("jugadores",e._id,e.img)}buscar(e){return 0===e.length?this.jugadores=this.jugadoresTemp:(this.busquedasService.buscar("jugadores",e).subscribe(r=>{this.jugadores=r}),!0)}borrarJugador(e){p().fire({title:"\xbfBorrar Jugador?",text:`Esta a punto de borrar a ${e.nombre} !`,icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarlo!"}).then(r=>{r.isConfirmed&&this.jugadoresService.desactivarJugador(e).subscribe(()=>{this.cargarJugadores(),p().fire("Eliminado!",`${e.nombre} fue eliminado correctamente`,"success")})})}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(N.M),t.Y36(v),t.Y36(U))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-jugadores"]],decls:22,vars:2,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"container"],[1,"row","animated","fadein","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar equipo...",1,"form-control",3,"keyup"],["txtTermino",""],["class","row animated fadein fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col"],[1,"text-right"],["routerLink","/gestor/jugador/nuevo",1,"btn","btn-primary"],[1,"fa","fa-user"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"text-nowrap","txt-center"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"w100","cursor",3,"src","alt","click"],[1,"text-nowrap"],["data-toggle","tooltip","data-original-title","Editar",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","borrar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header"),t.TgZ(1,"mat-drawer-container",0)(2,"mat-drawer",1,2),t._UZ(4,"app-navbar"),t.qZA(),t.TgZ(5,"mat-drawer-content"),t._UZ(6,"br")(7,"br"),t.TgZ(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(3);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu"),t.qZA(),t.TgZ(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"input",10,11),t.NdJ("keyup",function(){t.CHM(o);const u=t.MAs(17);return t.KtG(a.buscar(u.value))}),t.qZA()()()()()(),t.YNc(18,Yt,8,0,"div",12),t.TgZ(19,"div",5),t.YNc(20,Qt,27,2,"div",13),t.qZA()()(),t._UZ(21,"app-modal-imagen")}2&r&&(t.xp6(18),t.Q6J("ngIf",a.cargando),t.xp6(2),t.Q6J("ngIf",!a.cargando))},dependencies:[d.sg,d.O5,g.rH,l.jA,l.kh,l.LW,T,f,_,q.$],encapsulation:2})}return i})();var x=m(3900);let Bt=(()=>{class i{constructor(e){this.http=e,this.apiUrl="https://api.valida-curp.com.mx/curp/obtener_datos/?token=f47db867-e9cc-412f-8be7-fed7b0b86b86&curp="}obtenerDatosCURP(e){return this.http.get(this.apiUrl+e)}static#t=this.\u0275fac=function(r){return new(r||i)(t.LFG(F.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Gt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"label",15),t._uU(2,"Foto"),t.qZA(),t.TgZ(3,"div",16)(4,"div",17)(5,"td",37)(6,"img",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.abrirModal(a.jugadorSeleccionado))}),t.ALo(7,"imagen"),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("src",t.xi3(7,2,e.jugadorSeleccionado.img,"jugadores"),t.LSH)("alt",e.jugadorSeleccionado.nombre)}}function $t(i,s){1&i&&(t.TgZ(0,"span",39),t._uU(1," Curp no valido "),t.qZA())}function Ht(i,s){1&i&&(t.TgZ(0,"span",39),t._uU(1," Nombre no valido "),t.qZA())}function zt(i,s){1&i&&(t.TgZ(0,"span",39),t._uU(1," Apellido no valido "),t.qZA())}function Rt(i,s){1&i&&(t.TgZ(0,"span",39),t._uU(1," Apellido no valido "),t.qZA())}function Dt(i,s){1&i&&(t.TgZ(0,"span",39),t._uU(1," edad no valido "),t.qZA())}function Kt(i,s){if(1&i&&(t.TgZ(0,"option",40),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e._id),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.nombre)," ")}}function Vt(i,s){if(1&i&&(t.TgZ(0,"option",40),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e._id),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.nombre)," ")}}function Xt(i,s){if(1&i&&(t.TgZ(0,"div",14)(1,"label",28),t._uU(2,"Equipo"),t.qZA(),t.TgZ(3,"div",16)(4,"div",17)(5,"select",41)(6,"option",30),t._uU(7,"Seleccione el Equipo"),t.qZA(),t.YNc(8,Vt,3,4,"option",31),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(8),t.Q6J("ngForOf",e.equipos)}}function Wt(i,s){if(1&i&&(t.TgZ(0,"div",42)(1,"div",8)(2,"div",9)(3,"h1",43),t._uU(4,"Equipo"),t.qZA(),t.TgZ(5,"h2",44),t._uU(6),t.qZA(),t.TgZ(7,"h3",44),t._uU(8),t.qZA(),t._UZ(9,"img",45),t.ALo(10,"imagen"),t.qZA()()()),2&i){const e=t.oxw();t.xp6(6),t.Oqu(e.equipoSeleccionado.nombre),t.xp6(2),t.hij(" descripcion: ",e.equipoSeleccionado.descripcion," "),t.xp6(1),t.Q6J("src",t.xi3(10,3,e.equipoSeleccionado.img,"equipos"),t.LSH)}}let te=(()=>{class i{constructor(e,r,a,o,c,u,b,w,_i){this.fb=e,this.jugadoresService=r,this.equiposService=a,this.router=o,this.activateRoute=c,this.modalImagenService=u,this.vS=b,this.CurpvaliService=w,this.ligasService=_i,this.curpi="",this.datos={},this.edad=0,this.equipos=[],this.ligas=[],this.formSubmitted=!1}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.activateRoute.params.subscribe(({id:e})=>{this.cargarJugador(e)}),this.jugadorForm=this.fb.group({nombre:["",[n.kI.required,n.kI.minLength(3),n.kI.pattern(this.vS.nombresPattern)]],apellidoP:["",[n.kI.required,n.kI.minLength(3),n.kI.pattern(this.vS.nombresPattern)]],apellidoM:["",[n.kI.required,n.kI.minLength(3),n.kI.pattern(this.vS.nombresPattern)]],curp:["",[n.kI.required,n.kI.pattern(this.vS.curpPattern)]],liga:["",[n.kI.required]],edad:["",[n.kI.required]],equipo:["",n.kI.required]}),this.onLigaChanged(),this.cargarLigas(),this.jugadorForm.get("equipo").valueChanges.subscribe(e=>{this.equipoSeleccionado=this.equipos.find(r=>r._id===e)})}cargarLigas(){this.ligasService.getLigas().subscribe(e=>{this.ligas=e})}onLigaChanged(){this.jugadorForm.get("liga").valueChanges.pipe((0,j.b)(()=>this.jugadorForm.get("equipo").setValue("")),(0,x.w)(e=>this.equiposService.getEquipoPorLiga(e))).subscribe(e=>{this.equipos=e,console.log(this.equipos)})}guardarJugador(){if(this.formSubmitted=!0,this.jugadorForm.invalid)return void this.jugadorForm.markAllAsTouched();const{nombre:e}=this.jugadorForm.value;if(this.jugadorSeleccionado){const r={...this.jugadorForm.value,_id:this.jugadorSeleccionado._id};this.jugadoresService.actualizarJugador(r).subscribe(()=>{p().fire("Jugador Actualizado",`${e} Actualizado correctamente`,"success")})}else this.jugadoresService.agregaJugador(this.jugadorForm.value).subscribe(r=>{p().fire("Creado",`${e} creado correctamente`,"success"),this.router.navigateByUrl(`/gestor/jugador/${r.jugador._id}`)},r=>{p().fire("Error",r.error.msg,"error"),console.error("Error al crear el jugador:",r)})}cargarJugador(e){"nuevo"!==e&&this.jugadoresService.getJugadorPorId(e).pipe((0,h.g)(100)).subscribe(r=>{if(!r)return this.router.navigateByUrl("/gestor/jugadores");this.actualizarImagen(e);const{nombre:a,apellidoP:o,apellidoM:c,curp:u,equipo:{_id:b}}=r;return this.jugadorSeleccionado=r,this.jugadorForm.setValue({nombre:a,apellidoP:o,apellidoM:c,curp:u,equipo:b}),!0})}actualizarImagen(e){console.log(this.imgSubs),this.imgSubs=this.modalImagenService.nuevaImagen.pipe((0,h.g)(100)).subscribe(r=>this.cargarJugador(e))}abrirModal(e){this.modalImagenService.abrirModal("jugadores",e._id,e.img)}campoNoEsValido(e){return this.jugadorForm.controls[e]?.errors&&this.jugadorForm.controls[e].touched}obtenerDatos(){this.CurpvaliService.obtenerDatosCURP(this.curpi).subscribe(e=>{this.datos=e,this.datos.error||this.jugadorForm.patchValue({nombre:this.datos.response.Solicitante.Nombres,apellidoP:this.datos.response.Solicitante.ApellidoPaterno,apellidoM:this.datos.response.Solicitante.ApellidoMaterno,edad:this.calcularEdad(this.datos.response.Solicitante.FechaNacimiento)})})}calcularEdad(e){const r=new Date,a=new Date(e);let o=r.getFullYear()-a.getFullYear();const c=r.getMonth()-a.getMonth();return(c<0||0===c&&r.getDate()<a.getDate())&&o--,o}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(n.qu),t.Y36(N.M),t.Y36(E.u),t.Y36(g.F0),t.Y36(g.gz),t.Y36(v),t.Y36(y.o),t.Y36(Bt),t.Y36(J.O))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-jugador"]],decls:92,vars:12,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-subtitle","text-center"],[1,"form-horizontal","p-t-20",3,"formGroup","submit"],["class","form-group row",4,"ngIf"],[1,"form-group","row"],["for","exampleInputuname3",1,"col-sm-3","control-label"],[1,"col-sm-9"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-file"],["type","text","placeholder","Curp","formControlName","curp",1,"form-control",3,"ngModel","ngModelChange","blur"],["align","center"],["class","form-text text-danger",4,"ngIf"],[1,"ti-user"],["type","text","placeholder","Nombre del jugador","formControlName","nombre","readonly","",1,"form-control"],["type","text","placeholder","Apellido paterno","formControlName","apellidoP","readonly","",1,"form-control"],["type","text","placeholder","Apellido paterno","formControlName","apellidoM","readonly","",1,"form-control"],["type","text","placeholder","Edad","formControlName","edad","readonly","",1,"form-control"],["for","exampleInputEmail3",1,"col-sm-3","control-label"],["formControlName","liga",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","row","m-b-0"],[1,"offset-sm-3","col-sm-9"],["type","submit",1,"btn","btn-success","waves-effect","waves-light",3,"disabled"],[1,"fa","fa-save"],["class","col animated fadeIn fast",4,"ngIf"],[1,"text-center"],[1,"w140","cursor",3,"src","alt","click"],[1,"form-text","text-danger"],[3,"value"],["formControlName","equipo",1,"form-control"],[1,"col","animated","fadeIn","fast"],[1,"card-title"],[1,"card-subtitle"],[1,"img-thumbnail",3,"src"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header"),t.TgZ(1,"mat-drawer-container",0)(2,"mat-drawer",1,2),t._UZ(4,"app-navbar"),t.qZA(),t.TgZ(5,"mat-drawer-content"),t._UZ(6,"br")(7,"br"),t.TgZ(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(3);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu "),t.qZA(),t.TgZ(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h3",10),t._uU(17,"Nuevo Jugador"),t.qZA(),t.TgZ(18,"h4",11),t._uU(19,"Actualizar informacion"),t.qZA(),t.TgZ(20,"form",12),t.NdJ("submit",function(){return a.guardarJugador()}),t.YNc(21,Gt,8,5,"div",13),t.TgZ(22,"div",14)(23,"label",15),t._uU(24,"Curp"),t.qZA(),t.TgZ(25,"div",16)(26,"div",17)(27,"div",18),t._UZ(28,"i",19),t.qZA(),t.TgZ(29,"input",20),t.NdJ("ngModelChange",function(u){return a.curpi=u})("blur",function(){return a.obtenerDatos()}),t.qZA()()(),t.TgZ(30,"div",21),t.YNc(31,$t,2,0,"span",22),t.qZA()(),t.TgZ(32,"div",14)(33,"label",15),t._uU(34,"Nombre"),t.qZA(),t.TgZ(35,"div",16)(36,"div",17)(37,"div",18),t._UZ(38,"i",23),t.qZA(),t._UZ(39,"input",24),t.qZA()(),t.TgZ(40,"div",21),t.YNc(41,Ht,2,0,"span",22),t.qZA()(),t.TgZ(42,"div",14)(43,"label",15),t._uU(44,"Apellido Paterno"),t.qZA(),t.TgZ(45,"div",16)(46,"div",17)(47,"div",18),t._UZ(48,"i",23),t.qZA(),t._UZ(49,"input",25),t.qZA()()(),t.TgZ(50,"div",21),t.YNc(51,zt,2,0,"span",22),t.qZA(),t._UZ(52,"br"),t.TgZ(53,"div",14)(54,"label",15),t._uU(55,"Apellido Materno"),t.qZA(),t.TgZ(56,"div",16)(57,"div",17)(58,"div",18),t._UZ(59,"i",23),t.qZA(),t._UZ(60,"input",26),t.qZA()()(),t.TgZ(61,"div",21),t.YNc(62,Rt,2,0,"span",22),t.qZA(),t._UZ(63,"br"),t.TgZ(64,"div",14)(65,"label",15),t._uU(66,"Edad"),t.qZA(),t.TgZ(67,"div",16)(68,"div",17)(69,"div",18),t._UZ(70,"i",23),t.qZA(),t._UZ(71,"input",27),t.qZA()()(),t.TgZ(72,"div",21),t.YNc(73,Dt,2,0,"span",22),t.qZA(),t._UZ(74,"br"),t.TgZ(75,"div",14)(76,"label",28),t._uU(77,"Liga"),t.qZA(),t.TgZ(78,"div",16)(79,"div",17)(80,"select",29)(81,"option",30),t._uU(82,"Seleccione la liga"),t.qZA(),t.YNc(83,Kt,3,4,"option",31),t.qZA()()()(),t.YNc(84,Xt,9,1,"div",13),t.TgZ(85,"div",32)(86,"div",33)(87,"button",34),t._UZ(88,"i",35),t._uU(89," Guardar "),t.qZA()()()()()()(),t.YNc(90,Wt,11,6,"div",36),t.qZA()()()(),t._UZ(91,"app-modal-imagen")}2&r&&(t.xp6(20),t.Q6J("formGroup",a.jugadorForm),t.xp6(1),t.Q6J("ngIf",a.jugadorSeleccionado),t.xp6(8),t.Q6J("ngModel",a.curpi),t.xp6(2),t.Q6J("ngIf",a.campoNoEsValido("curp")),t.xp6(10),t.Q6J("ngIf",a.campoNoEsValido("nombre")),t.xp6(10),t.Q6J("ngIf",a.campoNoEsValido("apellidoP")),t.xp6(11),t.Q6J("ngIf",a.campoNoEsValido("apellidoM")),t.xp6(11),t.Q6J("ngIf",a.campoNoEsValido("edad")),t.xp6(10),t.Q6J("ngForOf",a.ligas),t.xp6(1),t.Q6J("ngIf",a.equipos.length>0),t.xp6(3),t.Q6J("disabled",a.jugadorForm.invalid),t.xp6(3),t.Q6J("ngIf",a.equipoSeleccionado))},dependencies:[d.sg,d.O5,l.jA,l.kh,l.LW,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u,T,f,_,d.rS,q.$],encapsulation:2})}return i})();function ee(i,s){1&i&&(t.TgZ(0,"div",13)(1,"p",14),t._uU(2," No hay usuarios con ese t\xe9rmino "),t.qZA()())}function ie(i,s){if(1&i&&(t.TgZ(0,"tr",17)(1,"td"),t._UZ(2,"img",18),t.ALo(3,"imagen"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.Q6J("src",t.xi3(3,2,e.img,"usuarios"),t.LSH),t.xp6(3),t.Oqu(e.nombre)}}function re(i,s){if(1&i&&(t.TgZ(0,"table",15)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Foto"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Usuario"),t.qZA()()(),t.TgZ(7,"tbody"),t.YNc(8,ie,6,5,"tr",16),t.qZA()()),2&i){const e=t.oxw();t.xp6(8),t.Q6J("ngForOf",e.usuarios)}}function ae(i,s){1&i&&(t.TgZ(0,"div",13)(1,"p",14),t._uU(2," No hay ligas con ese t\xe9rmino "),t.qZA()())}const oe=function(i){return["/gestor/liga",i]};function ne(i,s){if(1&i&&(t.TgZ(0,"tr",17)(1,"td")(2,"a",19),t._UZ(3,"img",18),t.ALo(4,"imagen"),t.qZA()(),t.TgZ(5,"td"),t._uU(6),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(6,oe,e._id)),t.xp6(1),t.Q6J("src",t.xi3(4,3,e.img,"ligas"),t.LSH),t.xp6(3),t.hij(" ",e.nombre," ")}}function se(i,s){if(1&i&&(t.TgZ(0,"table",15)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Foto"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"liga"),t.qZA()()(),t.TgZ(7,"tbody"),t.YNc(8,ne,7,8,"tr",16),t.qZA()()),2&i){const e=t.oxw();t.xp6(8),t.Q6J("ngForOf",e.ligas)}}function ce(i,s){1&i&&(t.TgZ(0,"div",13)(1,"p",14),t._uU(2," No hay equipos con ese t\xe9rmino "),t.qZA()())}const ue=function(i){return["/gestor/equipo",i]};function le(i,s){if(1&i&&(t.TgZ(0,"tr",21)(1,"td")(2,"a",19),t._UZ(3,"img",18),t.ALo(4,"imagen"),t.qZA()(),t.TgZ(5,"td"),t._uU(6),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(6,ue,e._id)),t.xp6(1),t.Q6J("src",t.xi3(4,3,e.img,"equipos"),t.LSH),t.xp6(3),t.hij(" ",e.nombre," ")}}function de(i,s){if(1&i&&(t.TgZ(0,"table",15)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Foto"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Equipo"),t.qZA()()(),t.TgZ(7,"tbody"),t.YNc(8,le,7,8,"tr",20),t.qZA()()),2&i){const e=t.oxw();t.xp6(8),t.Q6J("ngForOf",e.equipos)}}function pe(i,s){1&i&&(t.TgZ(0,"div",13)(1,"p",14),t._uU(2," No hay jugadores con ese t\xe9rmino "),t.qZA()())}const ge=function(i){return["/gestor/jugador",i]};function me(i,s){if(1&i&&(t.TgZ(0,"tr",21)(1,"td")(2,"a",19),t._UZ(3,"img",18),t.ALo(4,"imagen"),t.qZA()(),t.TgZ(5,"td"),t._uU(6),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(6,ge,e._id)),t.xp6(1),t.Q6J("src",t.xi3(4,3,e.img,"jugadores"),t.LSH),t.xp6(3),t.hij(" ",e.nombre," ")}}function _e(i,s){if(1&i&&(t.TgZ(0,"table",15)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Foto"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Jugadores"),t.qZA()()(),t.TgZ(7,"tbody"),t.YNc(8,me,7,8,"tr",20),t.qZA()()),2&i){const e=t.oxw();t.xp6(8),t.Q6J("ngForOf",e.jugadores)}}let fe=(()=>{class i{constructor(e,r){this.activatedRoute=e,this.busquedasService=r,this.usuarios=[],this.ligas=[],this.equipos=[],this.jugadores=[]}ngOnInit(){this.activatedRoute.params.subscribe(({termino:e})=>{this.busquedaGlobal(e)})}busquedaGlobal(e){this.busquedasService.busquedaGlobal(e).pipe((0,h.g)(100)).subscribe(r=>{console.log(r),this.usuarios=r.usuarios,this.ligas=r.ligas,this.equipos=r.equipos,this.jugadores=r.jugadores})}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(g.gz),t.Y36(U))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-busqueda"]],decls:48,vars:8,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"flex",2,"cursor","pointer"],[1,"container"],[1,"row","animated","fadein","fast"],[1,"col-4"],[1,"card"],[1,"card-body"],["class","alert alert-info animated fadeIn fast",4,"ngIf"],[1,"table-responsive"],["class","table",4,"ngIf"],[1,"alert","alert-info","animated","fadeIn","fast"],[1,"mb-0"],[1,"table"],["class","animated fadeIn fast",4,"ngFor","ngForOf"],[1,"animated","fadeIn","fast"],[1,"w75",3,"src"],[3,"routerLink"],["class","animated fadeIn fast cursor",4,"ngFor","ngForOf"],[1,"animated","fadeIn","fast","cursor"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header"),t.TgZ(1,"mat-drawer-container",0)(2,"mat-drawer",1,2),t._UZ(4,"app-navbar"),t.qZA(),t.TgZ(5,"mat-drawer-content"),t._UZ(6,"br")(7,"br"),t.TgZ(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(3);return t.KtG(u.toggle())}),t.TgZ(9,"mat-icon",4),t._uU(10,"menu"),t.qZA(),t._uU(11,"Menu"),t.qZA(),t._UZ(12,"br")(13,"br"),t.TgZ(14,"div",5)(15,"div",6)(16,"div",7)(17,"div",8)(18,"div",9)(19,"h3"),t._uU(20,"Usuarios"),t.qZA(),t.YNc(21,ee,3,0,"div",10),t.TgZ(22,"div",11),t.YNc(23,re,9,1,"table",12),t.qZA()()()(),t.TgZ(24,"div",7)(25,"div",8)(26,"div",9)(27,"h3"),t._uU(28,"Liga"),t.qZA(),t.YNc(29,ae,3,0,"div",10),t.TgZ(30,"div",11),t.YNc(31,se,9,1,"table",12),t.qZA()()()(),t.TgZ(32,"div",7)(33,"div",8)(34,"div",9)(35,"h3"),t._uU(36,"Equipos"),t.qZA(),t.YNc(37,ce,3,0,"div",10),t.TgZ(38,"div",11),t.YNc(39,de,9,1,"table",12),t.qZA()()()(),t.TgZ(40,"div",7)(41,"div",8)(42,"div",9)(43,"h3"),t._uU(44,"Jugadores"),t.qZA(),t.YNc(45,pe,3,0,"div",10),t.TgZ(46,"div",11),t.YNc(47,_e,9,1,"table",12),t.qZA()()()()()()()()}2&r&&(t.xp6(21),t.Q6J("ngIf",0===a.usuarios.length),t.xp6(2),t.Q6J("ngIf",a.usuarios.length>0),t.xp6(6),t.Q6J("ngIf",0===a.ligas.length),t.xp6(2),t.Q6J("ngIf",a.ligas.length>0),t.xp6(6),t.Q6J("ngIf",0===a.equipos.length),t.xp6(2),t.Q6J("ngIf",a.equipos.length>0),t.xp6(6),t.Q6J("ngIf",0===a.equipos.length),t.xp6(2),t.Q6J("ngIf",a.jugadores.length>0))},dependencies:[d.sg,d.O5,g.rH,l.jA,l.kh,l.LW,A.Hw,f,_,q.$],encapsulation:2})}return i})(),Z=(()=>{class i{constructor(e,r){this.usuarioService=e,this.router=r}canActivate(e,r){return"ADMIN_ROLE"===this.usuarioService.role||(this.router.navigateByUrl("/gestor/inicio"),!1)}static#t=this.\u0275fac=function(r){return new(r||i)(t.LFG(C.i),t.LFG(g.F0))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var L=m(6814);function he(i,s){1&i&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"h4",11),t._uU(4,"Cargando"),t.qZA(),t._UZ(5,"i",12),t.TgZ(6,"p",13),t._uU(7," Por favor espere "),t.qZA()()()())}const Ze=function(i){return["/gestor/carrusel",i]};function be(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",28)(2,"img",29),t.NdJ("click",function(){const o=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.abrirModal(o))}),t.ALo(3,"imagen"),t.qZA()(),t.TgZ(4,"td",30)(5,"a",31),t._UZ(6,"i",32),t.qZA(),t.TgZ(7,"a",33),t.NdJ("click",function(){const o=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.borrarCarrusel(o))}),t._UZ(8,"i",34),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Q6J("src",t.xi3(3,2,e.img,"carruseles"),t.LSH),t.xp6(3),t.Q6J("routerLink",t.VKq(5,Ze,e._id))}}function ve(i,s){if(1&i&&(t.TgZ(0,"div",14)(1,"div",9)(2,"div",15)(3,"div",16)(4,"div",14)(5,"div",17)(6,"h4",18),t._uU(7),t.qZA(),t.TgZ(8,"h6",19),t._uU(9," imagenes registradas "),t.qZA()(),t.TgZ(10,"div",20)(11,"div",21)(12,"a",22),t._UZ(13,"i",23),t._uU(14," A\xf1adir imagen "),t.qZA()()()(),t.TgZ(15,"div",24)(16,"table",25)(17,"thead")(18,"tr")(19,"th"),t._uU(20,"Foto"),t.qZA(),t.TgZ(21,"th",26),t._uU(22,"Acciones"),t.qZA()()(),t.TgZ(23,"tbody"),t.YNc(24,be,9,7,"tr",27),t.qZA()()()()()()()),2&i){const e=t.oxw();t.xp6(7),t.hij("Carruseles (",e.carruseles.length,") "),t.xp6(17),t.Q6J("ngForOf",e.carruseles)}}let Te=(()=>{class i{constructor(e,r){this.carruselesService=e,this.modalImagenService=r,this.cargando=!0,this.carruseles=[],this.carruselesTemp=[]}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarCarruseles(),this.imgSubs=this.modalImagenService.nuevaImagen.pipe((0,h.g)(100)).subscribe(e=>this.cargarCarruseles())}cargarCarruseles(){this.cargando=!0,this.carruselesService.getCarruseles().subscribe(e=>{this.cargando=!1,this.carruselesTemp=e,this.carruseles=e})}abrirModal(e){this.modalImagenService.abrirModal("carruseles",e._id,e.img)}borrarCarrusel(e){p().fire({title:"\xbfBorrar imagen?",text:`Esta a punto de borrar a ${e.nombre} !`,icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarlo!"}).then(r=>{r.isConfirmed&&this.carruselesService.eliminarCarrusel(e._id).subscribe(()=>{this.cargarCarruseles(),p().fire("Eliminado!",`${e.nombre} fue eliminado correctamente`,"success")})})}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(L.z),t.Y36(v))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-carruseles"]],decls:15,vars:2,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],["class","row animated fadein fast",4,"ngIf"],[1,"container"],["class","row",4,"ngIf"],[1,"row","animated","fadein","fast"],[1,"col-12"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"card"],[1,"card-body"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col"],[1,"text-right"],["routerLink","/gestor/carrusel/nuevo",1,"btn","btn-primary"],[1,"fa","fa-image"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"text-nowrap","txt-center"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"w100","cursor",3,"src","click"],[1,"text-nowrap"],["data-toggle","tooltip","data-original-title","Editar",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","borrar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header"),t.TgZ(1,"mat-drawer-container",0)(2,"mat-drawer",1,2),t._UZ(4,"app-navbar"),t.qZA(),t.TgZ(5,"mat-drawer-content"),t._UZ(6,"br")(7,"br"),t.TgZ(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(3);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu"),t.qZA(),t.YNc(11,he,8,0,"div",5),t.TgZ(12,"div",6),t.YNc(13,ve,25,2,"div",7),t.qZA()()(),t._UZ(14,"app-modal-imagen")}2&r&&(t.xp6(11),t.Q6J("ngIf",a.cargando),t.xp6(2),t.Q6J("ngIf",!a.cargando))},dependencies:[d.sg,d.O5,g.rH,l.jA,l.kh,l.LW,T,f,_,q.$],encapsulation:2})}return i})();function qe(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"label",15),t._uU(2,"Foto"),t.qZA(),t.TgZ(3,"div",16)(4,"div",17)(5,"td",27)(6,"img",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.abrirModal(a.carruselSeleccionado))}),t.ALo(7,"imagen"),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("src",t.xi3(7,2,e.carruselSeleccionado.img,"carruseles"),t.LSH)("alt",e.carruselSeleccionado.nombre)}}function Ae(i,s){1&i&&(t.TgZ(0,"span",29),t._uU(1," Nombre no valido no valido "),t.qZA())}let Ue=(()=>{class i{constructor(e,r,a,o,c,u){this.fb=e,this.vS=r,this.carruselService=a,this.router=o,this.activateRoute=c,this.modalImagenService=u}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.activateRoute.params.subscribe(({id:e})=>{this.cargarCarrusel(e)}),this.carruselForm=this.fb.group({nombre:["",[n.kI.required,n.kI.pattern(this.vS.nombresPattern)]]})}actualizarImagen(e){this.imgSubs=this.modalImagenService.nuevaImagen.pipe((0,h.g)(100)).subscribe(r=>this.cargarCarrusel(e))}abrirModal(e){this.modalImagenService.abrirModal("carruseles",e._id,e.img)}guardarCarrusel(){const{nombre:e}=this.carruselForm.value;if(this.carruselSeleccionado){const r={...this.carruselForm.value,_id:this.carruselSeleccionado._id};this.carruselService.actualizarCarrusel(r).subscribe(a=>{p().fire("Carrusel Actualizado",`${e} Actualizado correctamente`,"success")})}else this.carruselService.agregarCarrusel(this.carruselForm.value).subscribe(r=>{console.log(r),p().fire("Creado",`${e} creado correctamente`,"success"),this.router.navigateByUrl(`/gestor/carrusel/${r.carrusel._id}`)})}cargarCarrusel(e){"nuevo"!==e&&this.carruselService.getCarruselPorId(e).pipe((0,h.g)(100)).subscribe(r=>{if(!r)return this.router.navigateByUrl("/gestor/carruseles");this.actualizarImagen(e);const{nombre:a}=r;return this.carruselSeleccionado=r,this.carruselForm.setValue({nombre:a}),!0})}campoNoEsValido(e){return this.carruselForm.controls[e]?.errors&&this.carruselForm.controls[e].touched}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(n.qu),t.Y36(y.o),t.Y36(L.z),t.Y36(g.F0),t.Y36(g.gz),t.Y36(v))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-carrusel"]],decls:38,vars:4,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-subtitle","text-center"],[1,"form-horizontal","p-t-20",3,"formGroup","submit"],["class","form-group row",4,"ngIf"],[1,"form-group","row"],["for","exampleInputuname3",1,"col-sm-3","control-label"],[1,"col-sm-9"],[1,"input-group"],[1,"input-group-addon"],[1,"fa","fa-image"],["type","text","placeholder","Nombre de la imagen","formControlName","nombre",1,"form-control"],["align","center"],["class","form-text text-danger",4,"ngIf"],[1,"form-group","row","m-b-0"],[1,"offset-sm-3","col-sm-9"],["type","submit",1,"btn","btn-success","waves-effect","waves-light",3,"disabled"],[1,"fa","fa-save"],[1,"text-center"],[1,"w140","cursor",3,"src","alt","click"],[1,"form-text","text-danger"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header"),t.TgZ(1,"mat-drawer-container",0)(2,"mat-drawer",1,2),t._UZ(4,"app-navbar"),t.qZA(),t.TgZ(5,"mat-drawer-content"),t._UZ(6,"br")(7,"br"),t.TgZ(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(3);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu"),t.qZA(),t.TgZ(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h3",10),t._uU(17,"Nueva Imagen"),t.qZA(),t.TgZ(18,"h4",11),t._uU(19,"Actualizar informacion"),t.qZA(),t.TgZ(20,"form",12),t.NdJ("submit",function(){return a.guardarCarrusel()}),t.YNc(21,qe,8,5,"div",13),t.TgZ(22,"div",14)(23,"label",15),t._uU(24,"Nombre"),t.qZA(),t.TgZ(25,"div",16)(26,"div",17)(27,"div",18),t._UZ(28,"i",19),t.qZA(),t._UZ(29,"input",20),t.qZA()(),t.TgZ(30,"div",21),t.YNc(31,Ae,2,0,"span",22),t.qZA()(),t.TgZ(32,"div",23)(33,"div",24)(34,"button",25),t._UZ(35,"i",26),t._uU(36," Guardar "),t.qZA()()()()()()()()()()(),t._UZ(37,"app-modal-imagen")}2&r&&(t.xp6(20),t.Q6J("formGroup",a.carruselForm),t.xp6(1),t.Q6J("ngIf",a.carruselSeleccionado),t.xp6(10),t.Q6J("ngIf",a.campoNoEsValido("nombre")),t.xp6(3),t.Q6J("disabled",a.carruselForm.invalid))},dependencies:[d.O5,l.jA,l.kh,l.LW,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,T,f,_,q.$],encapsulation:2})}return i})();var xe=m(3576);function Ce(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"1"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA()()),2&i){const e=s.$implicit;t.xp6(4),t.Oqu(e.nombre),t.xp6(2),t.Oqu(e.fecha),t.xp6(2),t.Oqu(e.Hora),t.xp6(2),t.Oqu(e.accion)}}function Je(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"2"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA()()),2&i){const e=s.$implicit;t.xp6(4),t.Oqu(e.nombre),t.xp6(2),t.Oqu(e.fecha),t.xp6(2),t.Oqu(e.Hora),t.xp6(2),t.Oqu(e.accion)}}let Ie=(()=>{class i{constructor(e){this.restaurarBase=e,this.nombre="",this.accion="",this.fecha="",this.expresion=!1,this._arreglo={},this.respaldo={}}ngOnInit(){}copiaBD(){this.restaurarBase.copiBD().subscribe(e=>{p().fire("Exito","Se realizo el respaldo","success"),console.log(e),this._arreglo=e}),this.expresion=!0}respaldoBD(){this.restaurarBase.respaldoBD().subscribe(e=>{p().fire("Exito","Se realizo la restauracion","success"),console.log(e),this.respaldo=e})}get listadoArr(){const e=[];return Object.keys(this._arreglo).forEach(r=>{e.push(this._arreglo[r])}),e}get respaldoArr(){const e=[];return Object.keys(this.respaldo).forEach(r=>{e.push(this.respaldo[r])}),e}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(xe.k))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-restaurar"]],decls:39,vars:2,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"titulo"],[1,"m-5","bon"],["type","submit",1,"btn","btn-outline-info",3,"click"],[1,"fa","fa-upload"],[1,"fa","fa-download"],[1,"container"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header"),t.TgZ(1,"mat-drawer-container",0)(2,"mat-drawer",1,2),t._UZ(4,"app-navbar"),t.qZA(),t.TgZ(5,"mat-drawer-content"),t._UZ(6,"br")(7,"br"),t.TgZ(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(3);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu"),t.qZA(),t.TgZ(11,"h1",5),t._uU(12,"Respaldo de Base de datos de SOLF"),t.qZA(),t.TgZ(13,"div",6)(14,"button",7),t.NdJ("click",function(){return a.copiaBD()}),t._UZ(15,"i",8),t._uU(16," Respaldar BD "),t.qZA(),t.TgZ(17,"button",7),t.NdJ("click",function(){return a.respaldoBD()}),t._UZ(18,"i",9),t._uU(19," Restaurar BD "),t.qZA()(),t.TgZ(20,"div",10)(21,"table",11)(22,"thead")(23,"tr")(24,"th",12),t._uU(25,"No."),t.qZA(),t.TgZ(26,"th",12),t._uU(27,"Nombre"),t.qZA(),t.TgZ(28,"th",12),t._uU(29,"Fecha"),t.qZA(),t.TgZ(30,"th",12),t._uU(31,"Hora"),t.qZA(),t.TgZ(32,"th",12),t._uU(33,"Accion"),t.qZA()()(),t.TgZ(34,"tbody"),t.YNc(35,Ce,11,4,"tr",13),t.YNc(36,Je,11,4,"tr",13),t.qZA()()(),t._UZ(37,"br")(38,"br"),t.qZA()()}2&r&&(t.xp6(35),t.Q6J("ngForOf",a.listadoArr),t.xp6(1),t.Q6J("ngForOf",a.respaldoArr))},dependencies:[d.sg,l.jA,l.kh,l.LW,f,_],styles:[".titulo[_ngcontent-%COMP%]{text-align:center;color:#000}.bon[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}"]})}return i})(),we=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-logo"]],decls:1,vars:0,template:function(r,a){1&r&&t._UZ(0,"app-header")},dependencies:[_]})}return i})();var I=m(1483);function Se(i,s){1&i&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",14)(3,"h4",15),t._uU(4,"Cargando"),t.qZA(),t._UZ(5,"i",16),t.TgZ(6,"p",17),t._uU(7," Por favor espere "),t.qZA()()()())}const ke=function(i){return["/gestor/jornadas/temporadas/",i]};function ye(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",26),t._UZ(2,"img",27),t.ALo(3,"imagen"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",28)(7,"div",29)(8,"button",30),t.NdJ("click",function(){const o=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.generarEnfrentamientos(o._id))}),t._uU(9,"Crear enfrentamientos"),t.qZA(),t.TgZ(10,"a",31)(11,"mat-icon"),t._uU(12,"sports_soccer"),t.qZA(),t._uU(13," Ver jornada "),t.qZA()()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Q6J("src",t.xi3(3,4,e.img,"ligas"),t.LSH)("alt",e.nombre),t.xp6(3),t.hij(" ",e.nombre," "),t.xp6(5),t.Q6J("routerLink",t.VKq(7,ke,e._id))}}function Fe(i,s){if(1&i&&(t.TgZ(0,"div",18)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",18)(5,"div",19)(6,"h4",20),t._uU(7),t.qZA(),t.TgZ(8,"h6",21),t._uU(9," Ligas registradas "),t.qZA()()(),t.TgZ(10,"div",22)(11,"table",23)(12,"thead")(13,"tr")(14,"th"),t._uU(15,"Foto"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Nombre"),t.qZA(),t.TgZ(18,"th",24),t._uU(19,"Acciones"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,ye,14,9,"tr",25),t.qZA()()()()()()()),2&i){const e=t.oxw();t.xp6(7),t.hij("Ligas (",e.ligas.length,") "),t.xp6(14),t.Q6J("ngForOf",e.ligas)}}let Ee=(()=>{class i{constructor(e,r,a,o){this.ligaService=e,this.modalImagenService=r,this.busquedasService=a,this.enfrentamientosService=o,this.cargando=!0,this.ligas=[],this.ligasTemp=[]}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarLigas(),this.imgSubs=this.modalImagenService.nuevaImagen.pipe((0,h.g)(100)).subscribe(e=>this.cargarLigas())}cargarLigas(){this.cargando=!0,this.ligaService.getLigasStatusTrue().subscribe(e=>{this.cargando=!1,this.ligasTemp=e,this.ligas=e})}abrirModal(e){this.modalImagenService.abrirModal("ligas",e._id,e.img)}buscar(e){return 0===e.length?this.ligas=this.ligasTemp:(this.busquedasService.buscar("ligas",e).subscribe(r=>{this.ligas=r}),!0)}borrarLiga(e){p().fire({title:"\xbfBorrar liga?",text:`Esta a punto de borrar a ${e.nombre} !`,icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarlo!"}).then(r=>{r.isConfirmed&&this.ligaService.desactivarLiga(e).subscribe(()=>{this.cargarLigas(),p().fire("Eliminado!",`${e.nombre} fue eliminado correctamente`,"success")})})}generarEnfrentamientos(e){this.enfrentamientosService.generarEnfrentamientosPorLiga(e).subscribe({next:r=>{p().fire({position:"center",icon:"success",title:r,showConfirmButton:!1,timer:2500}),console.log(r)},error:r=>{p().fire({icon:"error",title:"Oops...",showConfirmButton:!1,timer:2500,text:`${r.error.msg}`})}})}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(J.O),t.Y36(v),t.Y36(U),t.Y36(I.R))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-enfrentamiento"]],decls:21,vars:2,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"container"],[1,"row","animated","fadein","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar liga...",1,"form-control",3,"keyup"],["txtTermino",""],["class","row animated fadein fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"text-nowrap","txt-center"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"w100","cursor",3,"src","alt"],[1,"text-nowrap"],[1,"d-grid","gap-2","col-6","mx-auto"],[1,"btn","btn-success",3,"click"],["data-toggle","tooltip","data-original-title","Editar",1,"btn","btn-warning",3,"routerLink"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header")(1,"br")(2,"br"),t.TgZ(3,"mat-drawer-container",0)(4,"mat-drawer",1,2),t._UZ(6,"app-navbar"),t.qZA(),t.TgZ(7,"mat-drawer-content")(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(5);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu"),t.qZA(),t.TgZ(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"input",10,11),t.NdJ("keyup",function(){t.CHM(o);const u=t.MAs(17);return t.KtG(a.buscar(u.value))}),t.qZA()()()()()(),t.YNc(18,Se,8,0,"div",12),t.TgZ(19,"div",5),t.YNc(20,Fe,22,2,"div",13),t.qZA()()()}2&r&&(t.xp6(18),t.Q6J("ngIf",a.cargando),t.xp6(2),t.Q6J("ngIf",!a.cargando))},dependencies:[d.sg,d.O5,g.rH,l.jA,l.kh,l.LW,A.Hw,f,_,q.$]})}return i})(),M=(()=>{class i{constructor(e){this.http=e,this.baseUrl=k.N.base_url}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}getEstadios(){return this.http.get(`${this.baseUrl}/estadios`,this.headers).pipe((0,P.U)(r=>r.estadios))}crearEstadio(e){return this.http.post(`${this.baseUrl}/estadios`,e,this.headers)}actualizarEstadio(e){return this.http.put(`${this.baseUrl}/estadios/${e._id}`,e,this.headers)}static#t=this.\u0275fac=function(r){return new(r||i)(t.LFG(F.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Ne(i,s){1&i&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",14)(3,"h4",15),t._uU(4,"Cargando"),t.qZA(),t._UZ(5,"i",16),t.TgZ(6,"p",17),t._uU(7," Por favor espere "),t.qZA()()()())}function Le(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td",30),t._uU(2),t.qZA(),t.TgZ(3,"td",30),t._uU(4),t.qZA(),t.TgZ(5,"td",31)(6,"a",32),t._UZ(7,"i",33),t.qZA(),t.TgZ(8,"a",34),t._UZ(9,"i",35),t.qZA()()()),2&i){const e=s.$implicit;t.xp6(2),t.hij(" ",e.nombre," "),t.xp6(2),t.hij(" ",e.direccion," ")}}function Me(i,s){if(1&i&&(t.TgZ(0,"div",18)(1,"div",18)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",18)(6,"div",19)(7,"h4",20),t._uU(8),t.qZA(),t.TgZ(9,"h6",21),t._uU(10," Estadios registradas "),t.qZA()(),t.TgZ(11,"div",22)(12,"div",23)(13,"a",24),t._UZ(14,"i",25),t._uU(15," Crear estadio "),t.qZA()()()(),t.TgZ(16,"div",26)(17,"table",27)(18,"thead")(19,"tr")(20,"th"),t._uU(21,"Nombre"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Ubicacion"),t.qZA(),t.TgZ(24,"th",28),t._uU(25,"Acciones"),t.qZA()()(),t.TgZ(26,"tbody"),t.YNc(27,Le,10,2,"tr",29),t.qZA()()()()()()()()),2&i){const e=t.oxw();t.xp6(8),t.hij("Estadios (",e.estadios.length,") "),t.xp6(19),t.Q6J("ngForOf",e.estadios)}}function je(i,s){1&i&&(t.TgZ(0,"span",27),t._uU(1," Nombre no valido "),t.qZA())}function Oe(i,s){1&i&&(t.TgZ(0,"span",27),t._uU(1," Ubicacion no valido "),t.qZA())}function Pe(i,s){1&i&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"h4",11),t._uU(4,"Cargando"),t.qZA(),t._UZ(5,"i",12),t.TgZ(6,"p",13),t._uU(7," Por favor espere "),t.qZA()()()())}const Be=function(i,s){return["/gestor/partidos/",i,s]};function Ge(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td",24),t._uU(2),t.qZA(),t.TgZ(3,"td",25)(4,"div",26)(5,"a",27)(6,"mat-icon"),t._uU(7,"sports_soccer"),t.qZA(),t._uU(8," Ver Enfrentamientos "),t.qZA(),t.TgZ(9,"a",28)(10,"mat-icon"),t._uU(11,"sports_soccer"),t.qZA(),t._uU(12," Generar Tabla de posiciones "),t.qZA(),t.TgZ(13,"a",29)(14,"mat-icon"),t._uU(15,"sports_soccer"),t.qZA(),t._uU(16," Generar Estadisticas "),t.qZA()()()()),2&i){const e=s.$implicit,r=t.oxw(2);t.xp6(2),t.AsE(" Temporadas: ",e.fechaDeGeneracion," ",r.getEstado(e.esActual)," "),t.xp6(3),t.Q6J("routerLink",t.WLB(3,Be,e.fechaDeGeneracion,e.liga))}}function $e(i,s){if(1&i&&(t.TgZ(0,"div",14)(1,"div",9)(2,"div",15)(3,"div",16)(4,"div",14)(5,"div",17)(6,"h4",18),t._uU(7),t.qZA(),t.TgZ(8,"h6",19),t._uU(9," Fechas "),t.qZA()()(),t.TgZ(10,"div",20)(11,"table",21)(12,"thead")(13,"tr")(14,"th"),t._uU(15,"Creaci\xf3n"),t.qZA(),t.TgZ(16,"th",22),t._uU(17,"Acciones"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,Ge,17,6,"tr",23),t.qZA()()()()()()()),2&i){const e=t.oxw();t.xp6(7),t.hij("Fechas (",e.fechasDeGeneracionPorLiga.length,") "),t.xp6(12),t.Q6J("ngForOf",e.fechasDeGeneracionPorLiga)}}function ze(i,s){1&i&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",12)(3,"h4",13),t._uU(4,"Cargando"),t.qZA(),t._UZ(5,"i",14),t.TgZ(6,"p",15),t._uU(7," Por favor espere "),t.qZA()()()())}function Re(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"li",26)(1,"a",27),t.NdJ("click",function(){const o=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.selectTab(o))}),t._uU(2),t.qZA()()}if(2&i){const e=s.$implicit,r=s.index,a=t.oxw(2);t.ekj("active",r===a.selectedTabIndex),t.xp6(1),t.ekj("active",r===a.selectedTabIndex),t.xp6(1),t.hij(" Jornada ",e," ")}}function De(i,s){if(1&i&&(t.ynx(0),t._uU(1),t.ALo(2,"date"),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.AsE(" ",e.estadio.nombre," y ",t.xi3(2,2,e.fechaDeEnfrentamiento,"mediumDate")," ")}}function Ke(i,s){1&i&&(t.ynx(0),t._uU(1," No disponibles "),t.BQk())}const Ve=function(i){return["/gestor/partidos/",i]},Xe=function(i){return["/gestor/resultado/",i]};function We(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,De,3,5,"ng-container",28),t.YNc(5,Ke,2,0,"ng-container",28),t.qZA(),t.TgZ(6,"td",29)(7,"div",30)(8,"a",31)(9,"mat-icon"),t._uU(10,"sports_soccer"),t.qZA(),t._uU(11," Editar "),t.qZA(),t.TgZ(12,"a",32)(13,"mat-icon"),t._uU(14,"sports_soccer"),t.qZA(),t._uU(15," Dar resultado "),t.qZA(),t.TgZ(16,"a",33)(17,"mat-icon"),t._uU(18,"sports_soccer"),t.qZA(),t._uU(19),t.qZA()()()()),2&i){const e=s.$implicit;t.xp6(2),t.AsE(" ",e.equipoLocal.nombre," vs ",e.equipoVisitante.nombre," "),t.xp6(2),t.Q6J("ngIf",e.estadio&&e.fechaDeEnfrentamiento),t.xp6(1),t.Q6J("ngIf",!e.estadio||!e.fechaDeEnfrentamiento),t.xp6(3),t.Q6J("routerLink",t.VKq(7,Ve,e._id)),t.xp6(4),t.Q6J("routerLink",t.VKq(9,Xe,e._id)),t.xp6(7),t.hij(" ",e.equipoLocal._id," ")}}function ti(i,s){if(1&i&&(t.TgZ(0,"div",16)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",16)(5,"div",17)(6,"h4",18),t._uU(7),t.qZA(),t.TgZ(8,"h6",19),t._uU(9," Partidos registradas "),t.qZA()()(),t.TgZ(10,"ul",20),t.YNc(11,Re,3,5,"li",21),t.qZA(),t.TgZ(12,"div",22)(13,"table",23)(14,"thead")(15,"tr")(16,"th"),t._uU(17,"Equipos"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Lugar Y Fecha"),t.qZA(),t.TgZ(20,"th",24),t._uU(21,"Acciones"),t.qZA()()(),t.TgZ(22,"tbody"),t.YNc(23,We,20,11,"tr",25),t.qZA()()()()()()()),2&i){const e=t.oxw();t.xp6(7),t.hij("Partidos (",e.enfrentamientos.length,") "),t.xp6(4),t.Q6J("ngForOf",e.jornadas),t.xp6(12),t.Q6J("ngForOf",e.filtroEnfrentamientos)}}function ii(i,s){if(1&i&&(t.TgZ(0,"div",14)(1,"label",15),t._uU(2,"Equipo local"),t.qZA(),t.TgZ(3,"div",16)(4,"div",17)(5,"div",18),t._UZ(6,"i",19),t.qZA(),t._UZ(7,"input",29),t.qZA()()()),2&i){const e=t.oxw();t.xp6(7),t.Q6J("value",e.enfrentamientos[0].equipoLocal.nombre)}}function ri(i,s){if(1&i&&(t.TgZ(0,"div",14)(1,"label",15),t._uU(2,"Equipo visitante"),t.qZA(),t.TgZ(3,"div",16)(4,"div",17)(5,"div",18),t._UZ(6,"i",19),t.qZA(),t._UZ(7,"input",29),t.qZA()()()),2&i){const e=t.oxw();t.xp6(7),t.Q6J("value",e.enfrentamientos[0].equipoVisitante.nombre)}}function ai(i,s){if(1&i&&(t.TgZ(0,"option",30),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e._id),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.nombre)," ")}}function ni(i,s){if(1&i&&(t.TgZ(0,"option",33),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e._id),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.nombre+" "+e.apellidoP+" "+e.apellidoM)," ")}}function si(i,s){if(1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"th",28),t._uU(3),t.qZA(),t.TgZ(4,"td")(5,"select",29)(6,"option",30),t._uU(7,"Selecciona Jugador"),t.qZA(),t.YNc(8,ni,3,4,"option",31),t.qZA()(),t.TgZ(9,"td"),t._UZ(10,"input",32),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"input",32),t.qZA(),t.TgZ(13,"td"),t._UZ(14,"input",32),t.qZA()()()),2&i){const e=s.index,r=t.oxw();t.xp6(3),t.Oqu(e+1),t.xp6(5),t.Q6J("ngForOf",r.JugadorLocal)}}function ci(i,s){if(1&i&&(t.TgZ(0,"option",33),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e._id),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.nombre+" "+e.apellidoP+" "+e.apellidoM)," ")}}function ui(i,s){if(1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"th",28),t._uU(3),t.qZA(),t.TgZ(4,"td")(5,"select",29)(6,"option",30),t._uU(7,"Seleccione el estadio"),t.qZA(),t.YNc(8,ci,3,4,"option",31),t.qZA()(),t.TgZ(9,"td"),t._UZ(10,"input",32),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"input",32),t.qZA(),t.TgZ(13,"td"),t._UZ(14,"input",32),t.qZA()()()),2&i){const e=s.index,r=t.oxw();t.xp6(3),t.Oqu(e+1),t.xp6(5),t.Q6J("ngForOf",r.Jugadorvisitante)}}const li=[{path:"",canActivate:[O],canLoad:[O],children:[{path:"inicio",component:K},{path:"perfil",component:gt},{path:"buscar/:termino",component:fe},{path:"usuarios",canActivate:[Z],component:lt},{path:"ligas",canActivate:[Z],component:Zt},{path:"liga/:id",canActivate:[Z],component:Ct},{path:"equipos",canActivate:[Z],component:kt},{path:"equipo/:id",canActivate:[Z],component:Mt},{path:"jugadores",canActivate:[Z],component:Pt},{path:"jugador/:id",canActivate:[Z],component:te},{path:"carruseles",canActivate:[Z],component:Te},{path:"carrusel/:id",canActivate:[Z],component:Ue},{path:"restaurar",canActivate:[Z],component:Ie},{path:"logo",canActivate:[Z],component:we},{path:"jornadas",canActivate:[Z],component:Ee},{path:"estadios",canActivate:[Z],component:(()=>{class i{constructor(e,r,a,o){this.ligaService=e,this.modalImagenService=r,this.busquedasService=a,this.estadiosService=o,this.cargando=!0,this.estadios=[],this.estadiosTemp=[]}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarEstadios(),this.imgSubs=this.modalImagenService.nuevaImagen.pipe((0,h.g)(100)).subscribe(e=>this.cargarEstadios())}cargarEstadios(){this.cargando=!0,this.estadiosService.getEstadios().subscribe(e=>{this.cargando=!1,this.estadiosTemp=e,this.estadios=e})}borrarLiga(e){p().fire({title:"\xbfBorrar liga?",text:`Esta a punto de borrar a ${e.nombre} !`,icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarlo!"}).then(r=>{r.isConfirmed&&this.ligaService.desactivarLiga(e).subscribe(()=>{this.cargarEstadios(),p().fire("Eliminado!",`${e.nombre} fue eliminado correctamente`,"success")})})}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(J.O),t.Y36(v),t.Y36(U),t.Y36(M))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-estadios"]],decls:21,vars:2,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"container"],[1,"row","animated","fadein","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar Estadios.",1,"form-control"],["txtTermino",""],["class","row animated fadein fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col"],[1,"text-right"],["routerLink","/gestor/estadios/nuevo",1,"btn","btn-primary"],[1,"fa","fa-thumb-tack"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"text-nowrap","txt-center"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"text-nowrap"],["data-toggle","tooltip","data-original-title","Editar"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","borrar",1,"cursor"],[1,"fa","fa-close","text-danger"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header")(1,"br")(2,"br"),t.TgZ(3,"mat-drawer-container",0)(4,"mat-drawer",1,2),t._UZ(6,"app-navbar"),t.qZA(),t.TgZ(7,"mat-drawer-content")(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(5);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu"),t.qZA(),t.TgZ(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9),t._UZ(16,"input",10,11),t.qZA()()()()(),t.YNc(18,Ne,8,0,"div",12),t.TgZ(19,"div",5),t.YNc(20,Me,28,2,"div",13),t.qZA()()()}2&r&&(t.xp6(18),t.Q6J("ngIf",a.cargando),t.xp6(2),t.Q6J("ngIf",!a.cargando))},dependencies:[d.sg,d.O5,g.rH,l.jA,l.kh,l.LW,f,_],encapsulation:2})}return i})()},{path:"estadios/:id",canActivate:[Z],component:(()=>{class i{constructor(e,r,a,o,c,u){this.fb=e,this.carruselService=r,this.router=a,this.activateRoute=o,this.modalImagenService=c,this.estadiosService=u}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.activateRoute.params.subscribe(({id:e})=>{this.cargarEstadios(e)}),this.estadioForm=this.fb.group({nombre:["",[n.kI.required]],direccion:["",[n.kI.required]]})}actualizarImagen(e){this.imgSubs=this.modalImagenService.nuevaImagen.pipe((0,h.g)(100)).subscribe(r=>this.cargarEstadios(e))}abrirModal(e){this.modalImagenService.abrirModal("carruseles",e._id,e.img)}guardarCarrusel(){const{nombre:e}=this.estadioForm.value;if(this.carruselSeleccionado){const r={...this.estadioForm.value,_id:this.carruselSeleccionado._id};this.carruselService.actualizarCarrusel(r).subscribe(a=>{p().fire("Estadio Actualizado",`${e} Actualizado correctamente`,"success")})}else this.estadiosService.crearEstadio(this.estadioForm.value).subscribe(r=>{console.log(r),p().fire("Creado",`${e} creado correctamente`,"success"),this.router.navigateByUrl(`/gestor/estadio/${r.carrusel._id}`)})}cargarEstadios(e){"nuevo"!==e&&this.carruselService.getCarruselPorId(e).pipe((0,h.g)(100)).subscribe(r=>{if(!r)return this.router.navigateByUrl("/gestor/estadios");this.actualizarImagen(e);const{nombre:a}=r;return this.carruselSeleccionado=r,this.estadioForm.setValue({nombre:a}),!0})}campoNoEsValido(e){return this.estadioForm.controls[e]?.errors&&this.estadioForm.controls[e].touched}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(n.qu),t.Y36(L.z),t.Y36(g.F0),t.Y36(g.gz),t.Y36(v),t.Y36(M))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-estadio"]],decls:45,vars:4,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title","text-center"],[1,"form-horizontal","p-t-20",3,"formGroup","submit"],[1,"form-group","row"],["for","exampleInputuname3",1,"col-sm-3","control-label"],[1,"col-sm-9"],[1,"input-group"],[1,"input-group-addon"],[1,"fa","fa-user"],["type","text","placeholder","Nombre del estadio","formControlName","nombre",1,"form-control"],["align","center"],["class","form-text text-danger",4,"ngIf"],[1,"fa","fa-map-marker"],["type","text","placeholder","Ubicacion del estadio","formControlName","direccion",1,"form-control"],[1,"form-group","row","m-b-0"],[1,"offset-sm-3","col-sm-9"],["type","submit",1,"btn","btn-success","waves-effect","waves-light",3,"disabled"],[1,"fa","fa-save"],[1,"form-text","text-danger"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header"),t.TgZ(1,"mat-drawer-container",0)(2,"mat-drawer",1,2),t._UZ(4,"app-navbar"),t.qZA(),t.TgZ(5,"mat-drawer-content"),t._UZ(6,"br")(7,"br"),t.TgZ(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(3);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu"),t.qZA(),t.TgZ(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h3",10),t._uU(17,"Estadio"),t.qZA(),t.TgZ(18,"form",11),t.NdJ("submit",function(){return a.guardarCarrusel()}),t.TgZ(19,"div",12)(20,"label",13),t._uU(21,"Nombre"),t.qZA(),t.TgZ(22,"div",14)(23,"div",15)(24,"div",16),t._UZ(25,"i",17),t.qZA(),t._UZ(26,"input",18),t.qZA()(),t.TgZ(27,"div",19),t.YNc(28,je,2,0,"span",20),t.qZA()(),t.TgZ(29,"div",12)(30,"label",13),t._uU(31,"Ubicacion"),t.qZA(),t.TgZ(32,"div",14)(33,"div",15)(34,"div",16),t._UZ(35,"i",21),t.qZA(),t._UZ(36,"input",22),t.qZA()(),t.TgZ(37,"div",19),t.YNc(38,Oe,2,0,"span",20),t.qZA()(),t.TgZ(39,"div",23)(40,"div",24)(41,"button",25),t._UZ(42,"i",26),t._uU(43," Guardar "),t.qZA()()()()()()()()()()(),t._UZ(44,"app-modal-imagen")}2&r&&(t.xp6(18),t.Q6J("formGroup",a.estadioForm),t.xp6(10),t.Q6J("ngIf",a.campoNoEsValido("nombre")),t.xp6(10),t.Q6J("ngIf",a.campoNoEsValido("ubicacion")),t.xp6(3),t.Q6J("disabled",a.estadioForm.invalid))},dependencies:[d.O5,l.jA,l.kh,l.LW,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,T,f,_],encapsulation:2})}return i})()},{path:"jornadas/temporadas/:id",canActivate:[Z],component:(()=>{class i{constructor(e,r){this.enfrentamientosService=e,this.activatedRoute=r,this.cargando=!0}ngOnDestroy(){}ngOnInit(){this.buscarFechasDeEnfrentamientos()}buscarFechasDeEnfrentamientos(){this.cargando=!0,this.activatedRoute.params.pipe((0,x.w)(({id:e})=>this.enfrentamientosService.getFechasDeEnfrentamientosPorLiga(e))).subscribe(e=>{this.cargando=!1,this.fechasDeGeneracionPorLiga=e,console.log(this.fechasDeGeneracionPorLiga)})}getEstado(e){return e?"Activada":"Desactivada"}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(I.R),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-resultados"]],decls:14,vars:2,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],["class","row animated fadein fast",4,"ngIf"],[1,"container"],["class","row",4,"ngIf"],[1,"row","animated","fadein","fast"],[1,"col-12"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"card"],[1,"card-body"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"text-nowrap","txt-center"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"text-nowrap"],[1,"d-grid","gap-2","col-6","mx-auto"],["data-toggle","tooltip","data-original-title","Editar",1,"btn","btn-primary",3,"routerLink"],["data-toggle","tooltip","data-original-title","Editar",1,"btn","btn-success"],["data-toggle","tooltip","data-original-title","Editar",1,"btn","btn-danger"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header")(1,"br")(2,"br"),t.TgZ(3,"mat-drawer-container",0)(4,"mat-drawer",1,2),t._UZ(6,"app-navbar"),t.qZA(),t.TgZ(7,"mat-drawer-content")(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(5);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu"),t.qZA(),t.YNc(11,Pe,8,0,"div",5),t.TgZ(12,"div",6),t.YNc(13,$e,20,2,"div",7),t.qZA()()()}2&r&&(t.xp6(11),t.Q6J("ngIf",a.cargando),t.xp6(2),t.Q6J("ngIf",!a.cargando))},dependencies:[d.sg,d.O5,g.rH,l.jA,l.kh,l.LW,A.Hw,f,_],styles:[".isTrue[_ngcontent-%COMP%]{background-color:#73f97a}"]})}return i})()},{path:"partidos/:fecha/:id",canActivate:[Z],component:(()=>{class i{constructor(e,r){this.activatedRoute=e,this.enfrentamientosService=r,this.cargando=!0,this.enfrentamientos=[],this.jornadas=[],this.selectedTabIndex=0,this.filtroEnfrentamientos=[]}ngOnInit(){this.cargarPartidos()}cargarPartidos(){this.cargando=!0,this.activatedRoute.params.pipe((0,x.w)(({fecha:e,id:r})=>this.enfrentamientosService.getEnfrentamientosPorFechaLiga(e,r))).subscribe(e=>{this.cargando=!1,this.enfrentamientos=e,this.enfrentamientos.forEach(r=>{this.jornadas.push(r.jornada)}),this.jornadas=Array.from(new Set(this.jornadas)),this.jornadas.sort((r,a)=>r-a),this.selectTab(this.selectedTabIndex)})}selectTab(e){this.selectedTabIndex=e,this.filtroEnfrentamientos=this.enfrentamientos.filter(r=>r.jornada===this.jornadas[e])}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(g.gz),t.Y36(I.R))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-partidos"]],decls:19,vars:2,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"container"],[1,"row","animated","fadein","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["class","row animated fadein fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"nav","nav-tabs"],["class","nav-item",3,"active",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"text-nowrap","txt-center"],[4,"ngFor","ngForOf"],[1,"nav-item"],[1,"nav-link",3,"click"],[4,"ngIf"],[1,"text-nowrap"],[1,"d-grid","gap-2","col-6","mx-auto"],["data-toggle","tooltip","data-original-title","Editar",1,"btn","btn-warning",3,"routerLink"],["data-toggle","tooltip","data-original-title","Editar",1,"btn","btn-success",3,"routerLink"],["data-toggle","tooltip","data-original-title","Editar",1,"btn","btn-success"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header")(1,"br")(2,"br"),t.TgZ(3,"mat-drawer-container",0)(4,"mat-drawer",1,2),t._UZ(6,"app-navbar"),t.qZA(),t.TgZ(7,"mat-drawer-content")(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(5);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu"),t.qZA(),t.TgZ(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8),t._UZ(15,"div",9),t.qZA()()()(),t.YNc(16,ze,8,0,"div",10),t.TgZ(17,"div",5),t.YNc(18,ti,24,3,"div",11),t.qZA()()()}2&r&&(t.xp6(16),t.Q6J("ngIf",a.cargando),t.xp6(2),t.Q6J("ngIf",!a.cargando))},dependencies:[d.sg,d.O5,g.rH,l.jA,l.kh,l.LW,A.Hw,f,_,d.uU]})}return i})()},{path:"partidos/:id",canActivate:[Z],component:(()=>{class i{constructor(e,r,a,o){this.activatedRoute=e,this.estadiosService=r,this.fb=a,this.enfrentamientosService=o,this.enfrentamientos=[],this.estadios=[],this.estadiosTemp=[]}ngOnInit(){this.getEnfrentamientosPorLiga(),this.cargarEstadios(),this.partidoForm=this.fb.group({nombrelocal:["",[n.kI.required]],nombrevisitante:["",[n.kI.required]],fecha:["",n.kI.required],estadio:["",n.kI.required]})}getEnfrentamientosPorLiga(){this.activatedRoute.params.pipe((0,x.w)(({id:e})=>this.enfrentamientosService.getEnfrentamientoPartidoPorId(e))).subscribe(e=>{})}guardarPartido(){}cargarEstadios(){this.estadiosService.getEstadios().subscribe(e=>{this.estadiosTemp=e,this.estadios=e,console.log(this.estadios)})}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(g.gz),t.Y36(M),t.Y36(n.qu),t.Y36(I.R))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-partido"]],decls:45,vars:4,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-subtitle","text-center"],[1,"form-horizontal","p-t-20",3,"formGroup","submit"],["class","form-group row",4,"ngIf"],[1,"form-group","row"],["for","exampleInputuname3",1,"col-sm-3","control-label"],[1,"col-sm-9"],[1,"input-group"],[1,"input-group-addon"],[1,"fa","fa-trophy"],["type","datetime-local","formControlName","fecha",1,"form-control"],["for","exampleInputEmail3",1,"col-sm-3","control-label"],["formControlName","estadio",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","row","m-b-0"],[1,"offset-sm-3","col-sm-9"],["type","submit",1,"btn","btn-success","waves-effect","waves-light"],[1,"fa","fa-save"],["type","text",1,"form-control",3,"value"],[3,"value"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header"),t.TgZ(1,"mat-drawer-container",0)(2,"mat-drawer",1,2),t._UZ(4,"app-navbar"),t.qZA(),t.TgZ(5,"mat-drawer-content"),t._UZ(6,"br")(7,"br"),t.TgZ(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(3);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu "),t.qZA(),t.TgZ(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h3",10),t._uU(17,"Editar Partido"),t.qZA(),t.TgZ(18,"h4",11),t._uU(19,"Actualizar informacion"),t.qZA(),t.TgZ(20,"form",12),t.NdJ("submit",function(){return a.guardarPartido()}),t.YNc(21,ii,8,1,"div",13),t.YNc(22,ri,8,1,"div",13),t.TgZ(23,"div",14)(24,"label",15),t._uU(25,"Fecha"),t.qZA(),t.TgZ(26,"div",16)(27,"div",17)(28,"div",18),t._UZ(29,"i",19),t.qZA(),t._UZ(30,"input",20),t.qZA()()(),t.TgZ(31,"div",14)(32,"label",21),t._uU(33,"Estadio"),t.qZA(),t.TgZ(34,"div",16)(35,"div",17)(36,"select",22)(37,"option",23),t._uU(38,"Seleccione el estadio"),t.qZA(),t.YNc(39,ai,3,4,"option",24),t.qZA()()()(),t.TgZ(40,"div",25)(41,"div",26)(42,"button",27),t._UZ(43,"i",28),t._uU(44," Guardar "),t.qZA()()()()()()()()()()()}2&r&&(t.xp6(20),t.Q6J("formGroup",a.partidoForm),t.xp6(1),t.Q6J("ngIf",a.enfrentamientos.length>0),t.xp6(1),t.Q6J("ngIf",a.enfrentamientos.length>0),t.xp6(17),t.Q6J("ngForOf",a.estadios))},dependencies:[d.sg,d.O5,l.jA,l.kh,l.LW,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u,f,_,d.rS]})}return i})()},{path:"resultado/:id",canActivate:[Z],component:(()=>{class i{constructor(e,r,a,o){this.activatedRoute=e,this.fb=r,this.enfrentamientosService=a,this.jugadoreservice=o,this.enfrentamientos=[],this.JugadorLocal=[],this.Jugadorvisitante=[]}ngOnInit(){this.getEnfrentamientosPorLiga(),this.partidoForm=this.fb.group({nombrelocal:["",[n.kI.required]],nombrevisitante:["",[n.kI.required]],fecha:["",n.kI.required],estadio:["",n.kI.required]})}getEnfrentamientosPorLiga(){this.activatedRoute.params.pipe((0,x.w)(({id:e})=>this.enfrentamientosService.getEnfrentamientoPartidoPorId(e))).subscribe(e=>{console.log(e),console.log("Id Del equipo local ",e.equipoLocal._id),console.log("Id Del equipo visitante ",e.equipoVisitante._id),this.getJugadorLocal(e.equipoLocal._id),this.getJugadorVisitante(e.equipoVisitante._id)})}getJugadorLocal(e){console.log("id funcion antes "+e),this.activatedRoute.params.pipe((0,x.w)(()=>(console.log("id dentro sm "+e),this.jugadoreservice.getJugadoresPorEquipo(e)))).subscribe(r=>{this.JugadorLocal=r,console.log("id dentro subscribe "+e),console.log(r),console.log(this.JugadorLocal)})}getJugadorVisitante(e){this.activatedRoute.params.pipe((0,x.w)(()=>this.jugadoreservice.getJugadoresPorEquipo(e))).subscribe(r=>{this.Jugadorvisitante=r,console.log(this.Jugadorvisitante)})}guardarResultado(){}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(g.gz),t.Y36(n.qu),t.Y36(I.R),t.Y36(N.M))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-resultado"]],decls:74,vars:3,consts:[["hasBackdrop","true",1,"example-container"],["mode","over","position","start"],["drawer",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-bars"],[1,"container"],[1,"row"],[1,""],[1,"card"],[1,"card-body"],[1,"card-title","text-center"],[1,"form-horizontal","p-t-20",3,"formGroup","submit"],[1,"col"],[1,"form-group","row"],["for","exampleInputuname3",1,"col-sm-3","control-label"],[1,"col-sm-9"],[1,"input-group"],[1,"input-group-addon"],[1,"fa","fa-trophy"],["type","text","disabled","",1,"form-control"],["type","text","disabled","",1,"form-control",3,"value"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"form-group","row","m-b-0"],[1,"offset-sm-3","col-sm-9"],["type","submit",1,"btn","btn-success","waves-effect","waves-light"],[1,"fa","fa-save"],["scope","row"],["formControlName","estadio",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"value"],[3,"value"]],template:function(r,a){if(1&r){const o=t.EpF();t._UZ(0,"app-header"),t.TgZ(1,"mat-drawer-container",0)(2,"mat-drawer",1,2),t._UZ(4,"app-navbar"),t.qZA(),t.TgZ(5,"mat-drawer-content"),t._UZ(6,"br")(7,"br"),t.TgZ(8,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(3);return t.KtG(u.toggle())}),t._UZ(9,"i",4),t._uU(10," Menu "),t.qZA(),t.TgZ(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h3",10),t._uU(17,"Resultados Partido"),t.qZA(),t.TgZ(18,"form",11),t.NdJ("submit",function(){return a.guardarResultado()}),t.TgZ(19,"div",6)(20,"div",12)(21,"div",13)(22,"label",14),t._uU(23,"Equipo local"),t.qZA(),t.TgZ(24,"div",15)(25,"div",16)(26,"div",17),t._UZ(27,"i",18),t.qZA(),t._UZ(28,"input",19),t.qZA()()()(),t.TgZ(29,"div",12)(30,"div",13)(31,"label",14),t._uU(32,"Equipo visitante"),t.qZA(),t.TgZ(33,"div",15)(34,"div",16)(35,"div",17),t._UZ(36,"i",18),t.qZA(),t._UZ(37,"input",20),t.qZA()()()()(),t.TgZ(38,"div",6)(39,"div",12)(40,"table",21)(41,"thead")(42,"tr")(43,"th",22),t._uU(44,"#"),t.qZA(),t.TgZ(45,"th",22),t._uU(46,"Nombre"),t.qZA(),t.TgZ(47,"th",22),t._uU(48,"Amo"),t.qZA(),t.TgZ(49,"th",22),t._uU(50,"Exp"),t.qZA(),t.TgZ(51,"th",22),t._uU(52,"Gol"),t.qZA()()(),t.YNc(53,si,15,2,"tbody",23),t.qZA()(),t.TgZ(54,"div",12)(55,"table",21)(56,"thead")(57,"tr")(58,"th",22),t._uU(59,"#"),t.qZA(),t.TgZ(60,"th",22),t._uU(61,"Nombre"),t.qZA(),t.TgZ(62,"th",22),t._uU(63,"Amo"),t.qZA(),t.TgZ(64,"th",22),t._uU(65,"Exp"),t.qZA(),t.TgZ(66,"th",22),t._uU(67,"Gol"),t.qZA()()(),t.YNc(68,ui,15,2,"tbody",23),t.qZA()()(),t.TgZ(69,"div",24)(70,"div",25)(71,"button",26),t._UZ(72,"i",27),t._uU(73," Guardar "),t.qZA()()()()()()()()()()()}2&r&&(t.xp6(18),t.Q6J("formGroup",a.partidoForm),t.xp6(35),t.Q6J("ngForOf",a.JugadorLocal),t.xp6(15),t.Q6J("ngForOf",a.Jugadorvisitante))},dependencies:[d.sg,l.jA,l.kh,l.LW,n._Y,n.YN,n.Kr,n.EJ,n.JJ,n.JL,n.sg,n.u,f,_,d.rS]})}return i})()}]}];let di=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(li),g.Bz]})}return i})();var pi=m(8298),gi=m(5503);let mi=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[d.ez,di,pi.q,n.UX,n.u5,gi.D,H]})}return i})()}}]);