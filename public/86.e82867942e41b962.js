"use strict";(self.webpackChunksolf=self.webpackChunksolf||[]).push([[86],{6086:(et,f,c)=>{c.r(f),c.d(f,{AuthModule:()=>D});var u=c(6895),n=c(4006),l=c(8996),x=c(5226),g=c.n(x),t=c(4650),P=c(7009),p=c(2797),Z=c(1005),b=c(4004),_=c(2340),h=c(529);let v=(()=>{class o{constructor(e){this.http=e,this.baseUrl=_.N.base_url}validate(e){return this.http.get(`${this.baseUrl}/usuarios/${e.value}`).pipe((0,Z.g)(2500),(0,b.U)(i=>0===i.emails.length?null:{emailTomado:!0}))}static#t=this.\u0275fac=function(r){return new(r||o)(t.LFG(h.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var C=c(1572);let m=(()=>{class o{constructor(e){this.http=e,this.baseUrl=_.N.base_url}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}getPreguntas(){return this.http.get(`${this.baseUrl}/preguntas`,this.headers).pipe((0,b.U)(r=>r.preguntas))}agregarEquipo(e){return this.http.post(`${this.baseUrl}/preguntas`,e,this.headers)}actualizarEquipo(e){return this.http.put(`${this.baseUrl}/preguntas/${e._id}`,e,this.headers)}reuperarPass(e){return this.http.post(`${this.baseUrl}/usuarios/preguntaSecret`,e)}recuperarPassporEmail(e){return this.http.post(`${this.baseUrl}/usuarios/recuperar`,e)}static#t=this.\u0275fac=function(r){return new(r||o)(t.LFG(h.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const M=["googleBtn"];function O(o,a){1&o&&(t.TgZ(0,"span",37),t._uU(1," Nombre no valido "),t.qZA())}function k(o,a){1&o&&(t.TgZ(0,"span",37),t._uU(1," Apellido no valido "),t.qZA())}function U(o,a){1&o&&(t.TgZ(0,"span",37),t._uU(1," Apellido no valido "),t.qZA())}function T(o,a){if(1&o&&(t.TgZ(0,"span",37),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.emailErrorMsg," ")}}function q(o,a){if(1&o&&(t.TgZ(0,"span",37),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.passErrorMsg," ")}}function A(o,a){1&o&&(t.TgZ(0,"span",37),t._uU(1," Las contrase\xf1as deben de ser iguales "),t.qZA())}function w(o,a){if(1&o&&(t.TgZ(0,"option",38),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e._id),t.xp6(1),t.hij(" ",e.pregunta," ")}}function y(o,a){1&o&&(t.TgZ(0,"span",37),t._uU(1," Seleccione una opcion "),t.qZA())}function N(o,a){1&o&&(t.TgZ(0,"span",37),t._uU(1," Debe de contener minimo 3 letras "),t.qZA())}function F(o,a){1&o&&(t.TgZ(0,"span",37),t._uU(1," Debe de aceptar los terminos "),t.qZA())}let I=(()=>{class o{constructor(e,r,i,s,d,K,W,tt){this.fb=e,this.snackbar=r,this.vS=i,this.emailValidator=s,this.router=d,this.usuarioService=K,this.ngZone=W,this.preguntasService=tt,this.preguntas=[],this.formSubmitted=!1,this.miFormulario=this.fb.group({nombre:["",[n.kI.minLength(2),n.kI.required,n.kI.pattern(this.vS.nombresPattern)]],apellidoP:["",[n.kI.required,n.kI.minLength(3),n.kI.pattern(this.vS.nombresPattern)]],apellidoM:["",[n.kI.required,n.kI.minLength(3),n.kI.pattern(this.vS.nombresPattern)]],password:["",[n.kI.required,n.kI.pattern(this.vS.passPattern)]],password2:["",[n.kI.required]],pregunta:["",[n.kI.required]],respuesta:["",[n.kI.required,n.kI.minLength(3)]],email:["",[n.kI.required,n.kI.pattern(this.vS.emailPattern)],[this.emailValidator]],condiciones:[!1,n.kI.requiredTrue]},{validators:[this.vS.camposIguales("password","password2")]}),this.inicializador={nombre:"test1",apellidoP:"test1",apellidoM:"test1",password:"Rosa123",password2:"Rosa123",email:"test1@gmail.com",condiciones:!1}}ngAfterViewInit(){this.googleInit()}googleInit(){google.accounts.id.initialize({client_id:"597820303932-nc7dmt1ceaad8p4s65h6sjas6daqn6lc.apps.googleusercontent.com",callback:e=>this.handleCredentialResponse(e)}),google.accounts.id.renderButton(this.googleBtn.nativeElement,{theme:"outline",size:"medium"})}handleCredentialResponse(e){this.usuarioService.loginGoogle(e.credential).subscribe(r=>{this.ngZone.run(()=>{this.router.navigateByUrl("gestor/inicio")})})}ngOnInit(){this.miFormulario.reset({...this.inicializador}),this.cargarPreguntas()}cargarPreguntas(){this.preguntasService.getPreguntas().subscribe(e=>{this.preguntas=e})}get emailErrorMsg(){const e=this.miFormulario.get("email")?.errors;return e?.required?"El correo es obligatorio":e?.pattern?"No es un formato de correo valido":e?.emailTomado?"El correo electronico ya existe":""}get passErrorMsg(){const e=this.miFormulario.get("password")?.errors;return e?.required?"La contrase\xf1a es obligatoria":e?.pattern?"La contrase\xf1a debe de ser mayor a 5 caracteres. tener mayusculas, minusculas y numeros":""}campoNoEsValido(e){return this.miFormulario.controls[e]?.errors&&this.miFormulario.controls[e].touched}guardar(){if(this.formSubmitted=!0,this.miFormulario.invalid)return void this.miFormulario.markAllAsTouched();const e={...this.miFormulario.value};delete e.password2,delete e.condiciones,console.log(e),this.usuarioService.crearUsuario(e).subscribe({next:()=>{this.router.navigateByUrl("gestor/inicio")},error:r=>{g().fire("Error",r.error.msg,"error")}}),this.miFormulario.reset()}mostrarSnackbar(e){this.snackbar.open(e,"ok!",{duration:5e3,panelClass:["blue-snackbar"]})}aceptaTerminos(){return!this.miFormulario.get("condiciones")?.value&&this.formSubmitted}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(n.qu),t.Y36(P.ux),t.Y36(p.o),t.Y36(v),t.Y36(l.F0),t.Y36(C.i),t.Y36(t.R0b),t.Y36(m))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-registro"]],viewQuery:function(r,i){if(1&r&&t.Gf(M,5),2&r){let s;t.iGM(s=t.CRH())&&(i.googleBtn=s.first)}},decls:94,vars:12,consts:[[1,"container"],[1,"row","px-3"],[1,"col-lg-10","col-xl-9","card","flex-row","mx-auto","px-0"],[1,"img-left","d-none","d-md-flex"],[1,"card-body"],[1,"title","text-center","mt-4"],["autocomplete","off",1,"form-box","px-3",3,"formGroup","ngSubmit"],[1,"form-input"],[1,"fa","fa-user"],["type","text","formControlName","nombre","placeholder","Nombre","tabindex","10"],["class","form-text text-danger",4,"ngIf"],[1,"fa-input-text"],["type","text","formControlName","apellidoP","placeholder","Apellido Paterno","tabindex","10"],["type","text","formControlName","apellidoM","placeholder","Apellido Materno","tabindex","10"],[1,"fa","fa-envelope-o"],["type","email","formControlName","email","placeholder","Correo","tabindex","10"],[1,"fa","fa-key"],["type","password","formControlName","password","placeholder","Contrase\xf1a"],["type","password","formControlName","password2","placeholder","Confirmar la contrase\xf1a"],["formControlName","pregunta",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","respuesta","placeholder","Respuesta de la pregunta","tabindex","10"],[1,"mb-3"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","cb1","formControlName","condiciones",1,"custom-control-input"],["for","cb1",1,"custom-control-label"],["type","submit",1,"btn","btn-block","text-uppercase",3,"disabled"],[1,"text-center","mb-3"],[1,"btngog"],[1,"row","mb-3"],[1,"col-4"],["googleBtn",""],[1,"my-4"],[1,"text-center","mb-2"],["routerLink","./login",1,"register-link"],[1,"cursor"],[1,"form-text","text-danger"],[3,"value"]],template:function(r,i){1&r&&(t._UZ(0,"br")(1,"br"),t.TgZ(2,"div",0)(3,"div",1)(4,"div",2),t._UZ(5,"div",3),t.TgZ(6,"div",4)(7,"h2",5),t._uU(8," Registro "),t.qZA(),t.TgZ(9,"form",6),t.NdJ("ngSubmit",function(){return i.guardar()}),t.TgZ(10,"label"),t._uU(11,"Nombre"),t.qZA(),t.TgZ(12,"div",7)(13,"span"),t._UZ(14,"i",8),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.YNc(16,O,2,0,"span",10),t.TgZ(17,"label"),t._uU(18,"Apellido Paterno"),t.qZA(),t.TgZ(19,"div",7)(20,"span"),t._UZ(21,"i",11),t.qZA(),t._UZ(22,"input",12),t.qZA(),t.YNc(23,k,2,0,"span",10),t.TgZ(24,"label"),t._uU(25,"Apellido Materno"),t.qZA(),t.TgZ(26,"div",7)(27,"span"),t._UZ(28,"i",11),t.qZA(),t._UZ(29,"input",13),t.qZA(),t.YNc(30,U,2,0,"span",10),t.TgZ(31,"label"),t._uU(32,"Correo"),t.qZA(),t.TgZ(33,"div",7)(34,"span"),t._UZ(35,"i",14),t.qZA(),t._UZ(36,"input",15),t.qZA(),t.YNc(37,T,2,1,"span",10),t.TgZ(38,"label"),t._uU(39,"Contrase\xf1a"),t.qZA(),t.TgZ(40,"div",7)(41,"span"),t._UZ(42,"i",16),t.qZA(),t._UZ(43,"input",17),t.qZA(),t.YNc(44,q,2,1,"span",10),t.TgZ(45,"label"),t._uU(46,"Repite la Contrase\xf1a"),t.qZA(),t.TgZ(47,"div",7)(48,"span"),t._UZ(49,"i",16),t.qZA(),t._UZ(50,"input",18),t.qZA(),t.YNc(51,A,2,0,"span",10),t.TgZ(52,"label"),t._uU(53,"Pregunta secreta"),t.qZA(),t.TgZ(54,"div",7)(55,"select",19)(56,"option",20),t._uU(57,"Seleccione una pregunta"),t.qZA(),t.YNc(58,w,2,2,"option",21),t.qZA()(),t.YNc(59,y,2,0,"span",10),t.TgZ(60,"div")(61,"label"),t._uU(62,"Respuesta de la pregunta"),t.qZA(),t.TgZ(63,"div",7)(64,"span"),t._UZ(65,"i",11),t.qZA(),t._UZ(66,"input",22),t.qZA(),t.YNc(67,N,2,0,"span",10),t.qZA(),t.TgZ(68,"div",23)(69,"div",24),t._UZ(70,"input",25),t.TgZ(71,"label",26),t._uU(72,"Aceptar Terminos y Condiciones"),t.qZA(),t.YNc(73,F,2,0,"span",10),t.qZA()(),t.TgZ(74,"div",23)(75,"button",27),t._uU(76," Registrame "),t.qZA()(),t.TgZ(77,"div",28),t._uU(78," O registrate con "),t.qZA(),t.TgZ(79,"div",29)(80,"div",30)(81,"div",31),t._UZ(82,"div",null,32),t.qZA()()(),t._UZ(84,"hr",33),t.TgZ(85,"div",34)(86,"p"),t._uU(87,"\xbfYa tienes cuenta?"),t.TgZ(88,"a",35)(89,"b",36),t._uU(90,"Iniciar Sesion"),t.qZA()()()()()()()()(),t._UZ(91,"br")(92,"br")(93,"br")),2&r&&(t.xp6(9),t.Q6J("formGroup",i.miFormulario),t.xp6(7),t.Q6J("ngIf",i.campoNoEsValido("nombre")),t.xp6(7),t.Q6J("ngIf",i.campoNoEsValido("apellidoP")),t.xp6(7),t.Q6J("ngIf",i.campoNoEsValido("apellidoM")),t.xp6(7),t.Q6J("ngIf",i.campoNoEsValido("email")),t.xp6(7),t.Q6J("ngIf",i.campoNoEsValido("password")),t.xp6(7),t.Q6J("ngIf",i.campoNoEsValido("password2")),t.xp6(7),t.Q6J("ngForOf",i.preguntas),t.xp6(1),t.Q6J("ngIf",i.campoNoEsValido("pregunta")),t.xp6(8),t.Q6J("ngIf",i.campoNoEsValido("respuesta")),t.xp6(6),t.Q6J("ngIf",i.aceptaTerminos()),t.xp6(2),t.Q6J("disabled",i.miFormulario.pending))},dependencies:[u.sg,u.O5,l.rH,n._Y,n.YN,n.Kr,n.Fj,n.Wl,n.EJ,n.JJ,n.JL,n.sg,n.u],styles:["body[_ngcontent-%COMP%]{height:100vh;background:#0062E6!important;display:flex;flex-direction:column;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]{overflow:hidden;border:0!important;border-radius:20px!important;box-shadow:0 .5rem 1rem #0000001a}.img-left[_ngcontent-%COMP%]{width:45%;background:url(https://static01.nyt.com/images/2020/02/26/multimedia/26JimenezES-1/26JimenezES-1-mediumSquareAt3X.jpg) center;background-size:cover}.card-body[_ngcontent-%COMP%]{padding:2rem}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.form-input[_ngcontent-%COMP%]{position:relative}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:45px;padding-left:40px;margin-bottom:20px;box-sizing:border-box;box-shadow:none;border:1px solid #00000020;border-radius:50px;outline:none;background:transparent}.form-input[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:10px;padding-left:15px;color:#521a49}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000;padding-left:0}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid{border:2px solid #521a49}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::placeholder{color:#454b69}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:#007bff!important;border:0px}.form-box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:10px;border:none;cursor:pointer;border-radius:50px;background:#007bff;color:#fff;font-size:90%;font-weight:700;letter-spacing:.1rem;transition:.5s;padding:12px}.form-box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background:#0069d9}.forget-link[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.forget-link[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0069d9;text-decoration:none}.form-box[_ngcontent-%COMP%]   .btn-social[_ngcontent-%COMP%]{color:#fff!important;border:0;font-weight:700}.form-box[_ngcontent-%COMP%]   .btn-facebook[_ngcontent-%COMP%]{background:#4866a8}.form-box[_ngcontent-%COMP%]   .btn-google[_ngcontent-%COMP%]{background:#da3f34}.form-box[_ngcontent-%COMP%]   .btn-twitter[_ngcontent-%COMP%]{background:#33ccff}.form-box[_ngcontent-%COMP%]   .btn-facebook[_ngcontent-%COMP%]:hover{background:#3d578f}.form-box[_ngcontent-%COMP%]   .btn-google[_ngcontent-%COMP%]:hover{background:#bf3b31}.form-box[_ngcontent-%COMP%]   .btn-twitter[_ngcontent-%COMP%]:hover{background:#2eb7e5}.blue-snackbar[_ngcontent-%COMP%]{background:#2196F3}"]})}return o})();const E=["googleBtn"];function S(o,a){if(1&o&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.emailErrorMsg," ")}}function J(o,a){1&o&&(t.TgZ(0,"span",30),t._uU(1," la contrase\xf1a es requerida "),t.qZA())}function Y(o,a){if(1&o&&(t.TgZ(0,"span",20),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.emailErrorMsg," ")}}function z(o,a){if(1&o&&(t.TgZ(0,"option",21),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e._id),t.xp6(1),t.hij(" ",e.pregunta," ")}}function Q(o,a){1&o&&(t.TgZ(0,"span",20),t._uU(1," Seleccione una opcion "),t.qZA())}function L(o,a){1&o&&(t.TgZ(0,"span",20),t._uU(1," Debe de contener minimo 3 letras "),t.qZA())}function V(o,a){1&o&&(t.TgZ(0,"span",20),t._uU(1," la contrase\xf1a es requerida "),t.qZA())}function B(o,a){1&o&&(t.TgZ(0,"span",15),t._uU(1," El nombre es requerido "),t.qZA())}function G(o,a){if(1&o&&(t.TgZ(0,"span",15),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.emailErrorMsg," ")}}const $=[{path:"",children:[{path:"login",component:(()=>{class o{constructor(e,r,i,s,d){this.router=e,this.fb=r,this.vs=i,this.usuarioService=s,this.ngZone=d,this.formSubmitted=!1,this.miFormulario=this.fb.group({email:[localStorage.getItem("email")||"",[n.kI.required,n.kI.pattern(this.vs.emailPattern)]],password:["",n.kI.required],remember:[!1]})}ngAfterViewInit(){this.googleInit()}googleInit(){google.accounts.id.initialize({client_id:"597820303932-nc7dmt1ceaad8p4s65h6sjas6daqn6lc.apps.googleusercontent.com",callback:e=>this.handleCredentialResponse(e)}),google.accounts.id.renderButton(this.googleBtn.nativeElement,{theme:"outline",size:"medium"})}handleCredentialResponse(e){this.usuarioService.loginGoogle(e.credential).subscribe(r=>{this.ngZone.run(()=>{this.router.navigateByUrl("gestor/inicio")})})}ngOnInit(){}get emailErrorMsg(){const e=this.miFormulario.get("email")?.errors;return e?.required?"El correo es obligatorio":e?.pattern?"No es un formato de correo valido":""}campoNoEsValido(e){return this.miFormulario.controls[e]?.errors&&this.miFormulario.controls[e].touched}login(){this.usuarioService.login(this.miFormulario.value).subscribe({next:()=>{this.miFormulario.get("remember")?.value?localStorage.setItem("email",this.miFormulario.get("email")?.value):localStorage.removeItem("email"),this.router.navigateByUrl("gestor/inicio")},error:e=>{g().fire("Error",e.error.msg,"error")}})}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(l.F0),t.Y36(n.qu),t.Y36(p.o),t.Y36(C.i),t.Y36(t.R0b))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],viewQuery:function(r,i){if(1&r&&t.Gf(E,5),2&r){let s;t.iGM(s=t.CRH())&&(i.googleBtn=s.first)}},decls:55,vars:4,consts:[[1,"container"],[1,"row","px-3"],[1,"col-lg-10","col-xl-9","card","flex-row","mx-auto","px-0"],[1,"img-left","d-none","d-md-flex"],[1,"card-body"],[1,"title","text-center","mt-4"],["autocomplete","off",1,"form-box","px-3",3,"formGroup","ngSubmit"],[1,"form-input"],[1,"fa","fa-envelope-o"],["type","email","placeholder","Usuario","formControlName","email"],["class","form-text text-danger",4,"ngIf"],[1,"fa","fa-key"],["type","password","placeholder","Contrse\xf1a","formControlName","password"],[1,"mb-3"],[1,"custom-control","custom-checkbox"],["type","checkbox","formControlName","remember","id","cb1",1,"custom-control-input"],["for","cb1",1,"custom-control-label"],["type","submit",1,"btn","btn-block","text-uppercase",3,"disabled"],[1,"text-right"],[1,"forget-link"],["routerLink","../recuperarPassword",1,"forget-link"],["routerLink","../recuperarporEmail",1,"forget-link"],[1,"text-center","mb-3"],[1,"btngog"],[1,"row","mb-3"],[1,"col-4"],["googleBtn",""],[1,"my-4"],[1,"text-center","mb-2"],["routerLink","../registro",1,"register-link"],[1,"form-text","text-danger"]],template:function(r,i){1&r&&(t._UZ(0,"br")(1,"br"),t.TgZ(2,"div",0)(3,"div",1)(4,"div",2),t._UZ(5,"div",3),t.TgZ(6,"div",4)(7,"h4",5),t._uU(8," Inicio de Sesion "),t.qZA(),t.TgZ(9,"form",6),t.NdJ("ngSubmit",function(){return i.login()}),t.TgZ(10,"label"),t._uU(11,"Email"),t.qZA(),t.TgZ(12,"div",7)(13,"span"),t._UZ(14,"i",8),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.YNc(16,S,2,1,"span",10),t.TgZ(17,"label"),t._uU(18,"contrase\xf1a"),t.qZA(),t.TgZ(19,"div",7)(20,"span"),t._UZ(21,"i",11),t.qZA(),t._UZ(22,"input",12),t.qZA(),t.YNc(23,J,2,0,"span",10),t.TgZ(24,"div",13)(25,"div",14),t._UZ(26,"input",15),t.TgZ(27,"label",16),t._uU(28,"Recuerdame"),t.qZA()()(),t.TgZ(29,"div",13)(30,"button",17),t._uU(31," Iniciar Sesion "),t.qZA()(),t.TgZ(32,"div",18)(33,"a",19),t._uU(34," Olvide mi contrase\xf1a? recuperar por: "),t.TgZ(35,"a",20),t._uU(36," Pregunta secreta "),t.qZA(),t._UZ(37,"br"),t.TgZ(38,"a",21),t._uU(39," Recuperar por email "),t.qZA()()(),t.TgZ(40,"div",22),t._uU(41," O inicia sesion con "),t.qZA(),t.TgZ(42,"div",23)(43,"div",24)(44,"div",25),t._UZ(45,"div",null,26),t.qZA()()(),t._UZ(47,"hr",27),t.TgZ(48,"div",28),t._uU(49," No tienes cuenta? "),t.TgZ(50,"a",29),t._uU(51," Registrate "),t.qZA()()()()()()(),t._UZ(52,"br")(53,"br")(54,"br")),2&r&&(t.xp6(9),t.Q6J("formGroup",i.miFormulario),t.xp6(7),t.Q6J("ngIf",i.campoNoEsValido("email")),t.xp6(7),t.Q6J("ngIf",i.campoNoEsValido("password")),t.xp6(7),t.Q6J("disabled",i.miFormulario.invalid))},dependencies:[u.O5,l.rH,n._Y,n.Fj,n.Wl,n.JJ,n.JL,n.sg,n.u],styles:["body[_ngcontent-%COMP%]{height:100vh;background:#0062E6!important;display:flex;flex-direction:column;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]{overflow:hidden;border:0!important;border-radius:20px!important;box-shadow:0 .5rem 1rem #0000001a}.img-left[_ngcontent-%COMP%]{width:45%;background:url(https://static01.nyt.com/images/2020/02/26/multimedia/26JimenezES-1/26JimenezES-1-mediumSquareAt3X.jpg) center;background-size:cover}.card-body[_ngcontent-%COMP%]{padding:2rem}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.form-input[_ngcontent-%COMP%]{position:relative}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:45px;padding-left:40px;margin-bottom:20px;box-sizing:border-box;box-shadow:none;border:1px solid #00000020;border-radius:50px;outline:none;background:transparent}.form-input[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:10px;padding-left:15px;color:#007bff}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000;padding-left:0}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid{border:2px solid #007bff}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::placeholder{color:#454b69}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:#007bff!important;border:0px}.form-box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:10px;border:none;cursor:pointer;border-radius:50px;background:#007bff;color:#fff;font-size:90%;font-weight:700;letter-spacing:.1rem;transition:.5s;padding:12px}.form-box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background:#0069d9}.forget-link[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.forget-pre[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{color:#000001;font-weight:700}.forget-link[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0069d9;text-decoration:none}.form-box[_ngcontent-%COMP%]   .btn-social[_ngcontent-%COMP%]{color:#fff!important;border:0;font-weight:700}.form-box[_ngcontent-%COMP%]   .btn-facebook[_ngcontent-%COMP%]{background:#4866a8}.form-box[_ngcontent-%COMP%]   .btn-google[_ngcontent-%COMP%]{background:#da3f34}.form-box[_ngcontent-%COMP%]   .btn-twitter[_ngcontent-%COMP%]{background:#33ccff}.form-box[_ngcontent-%COMP%]   .btn-facebook[_ngcontent-%COMP%]:hover{background:#3d578f}.form-box[_ngcontent-%COMP%]   .btn-google[_ngcontent-%COMP%]:hover{background:#bf3b31}.form-box[_ngcontent-%COMP%]   .btn-twitter[_ngcontent-%COMP%]:hover{background:#2eb7e5}"]})}return o})()},{path:"registro",component:I},{path:"recuperarPassword",component:(()=>{class o{constructor(e,r,i,s){this.router=e,this.fb=r,this.vs=i,this.preguntasService=s,this.preguntas=[],this.formSubmitted=!1,this.miFormulario=this.fb.group({email:[localStorage.getItem("email")||"",[n.kI.required,n.kI.pattern(this.vs.emailPattern)]],newPassword:["",n.kI.required],pregunta:["",[n.kI.required]],respuesta:["",[n.kI.required,n.kI.minLength(3)]]})}ngOnInit(){this.cargarPreguntas()}cargarPreguntas(){this.preguntasService.getPreguntas().subscribe(e=>{this.preguntas=e})}get emailErrorMsg(){const e=this.miFormulario.get("email")?.errors;return e?.required?"El correo es obligatorio":e?.pattern?"No es un formato de correo valido":""}campoNoEsValido(e){return this.miFormulario.controls[e]?.errors&&this.miFormulario.controls[e].touched}enviarRespuesta(){this.preguntasService.reuperarPass(this.miFormulario.value).subscribe({next:()=>{g().fire("Guardado","contrase\xf1a actualizada","success"),this.router.navigateByUrl("auth/inicio")},error:e=>{g().fire("Error",e.error.msg,"error")}})}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(l.F0),t.Y36(n.qu),t.Y36(p.o),t.Y36(m))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-recuperar-password"]],decls:46,vars:7,consts:[[1,"container"],[1,"row","px-3"],[1,"col-lg-10","col-xl-9","card","flex-row","mx-auto","px-0"],[1,"img-left","d-none","d-md-flex"],[1,"card-body"],[1,"title","text-center","mt-4"],["autocomplete","off",1,"form-box","px-3",3,"formGroup","ngSubmit"],[1,"form-input"],[1,"fa","fa-envelope-o"],["type","email","placeholder","Usuario","formControlName","email"],["class","form-text text-danger",4,"ngIf"],["formControlName","pregunta",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"fa-input-text"],["type","text","formControlName","respuesta","placeholder","Respuesta de la pregunta","tabindex","10"],[1,"fa","fa-key"],["type","password","placeholder","Contrse\xf1a","formControlName","newPassword"],[1,"mb-3"],["type","submit",1,"btn","btn-block","text-uppercase",3,"disabled"],[1,"form-text","text-danger"],[3,"value"]],template:function(r,i){1&r&&(t._UZ(0,"br")(1,"br"),t.TgZ(2,"div",0)(3,"div",1)(4,"div",2),t._UZ(5,"div",3),t.TgZ(6,"div",4)(7,"h4",5),t._uU(8," Recuperacion de contrase\xf1a "),t.qZA(),t.TgZ(9,"form",6),t.NdJ("ngSubmit",function(){return i.enviarRespuesta()}),t.TgZ(10,"label"),t._uU(11,"Email"),t.qZA(),t.TgZ(12,"div",7)(13,"span"),t._UZ(14,"i",8),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.YNc(16,Y,2,1,"span",10),t.TgZ(17,"label"),t._uU(18,"Pregunta secreta"),t.qZA(),t.TgZ(19,"div",7)(20,"select",11)(21,"option",12),t._uU(22,"Seleccione una pregunta"),t.qZA(),t.YNc(23,z,2,2,"option",13),t.qZA()(),t.YNc(24,Q,2,0,"span",10),t.TgZ(25,"div")(26,"label"),t._uU(27,"Respuesta de la pregunta"),t.qZA(),t.TgZ(28,"div",7)(29,"span"),t._UZ(30,"i",14),t.qZA(),t._UZ(31,"input",15),t.qZA(),t.YNc(32,L,2,0,"span",10),t.qZA(),t.TgZ(33,"label"),t._uU(34,"Nueva contrase\xf1a"),t.qZA(),t.TgZ(35,"div",7)(36,"span"),t._UZ(37,"i",16),t.qZA(),t._UZ(38,"input",17),t.qZA(),t.YNc(39,V,2,0,"span",10),t.TgZ(40,"div",18)(41,"button",19),t._uU(42," Iniciar Sesion "),t.qZA()()()()()()(),t._UZ(43,"br")(44,"br")(45,"br")),2&r&&(t.xp6(9),t.Q6J("formGroup",i.miFormulario),t.xp6(7),t.Q6J("ngIf",i.campoNoEsValido("email")),t.xp6(7),t.Q6J("ngForOf",i.preguntas),t.xp6(1),t.Q6J("ngIf",i.campoNoEsValido("pregunta")),t.xp6(8),t.Q6J("ngIf",i.campoNoEsValido("respuesta")),t.xp6(7),t.Q6J("ngIf",i.campoNoEsValido("newPassword")),t.xp6(2),t.Q6J("disabled",i.miFormulario.invalid))},dependencies:[u.sg,u.O5,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u],styles:["body[_ngcontent-%COMP%]{height:100vh;background:#0062E6!important;display:flex;flex-direction:column;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]{overflow:hidden;border:0!important;border-radius:20px!important;box-shadow:0 .5rem 1rem #0000001a}.img-left[_ngcontent-%COMP%]{width:45%;background:url(https://static01.nyt.com/images/2020/02/26/multimedia/26JimenezES-1/26JimenezES-1-mediumSquareAt3X.jpg) center;background-size:cover}.card-body[_ngcontent-%COMP%]{padding:2rem}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.form-input[_ngcontent-%COMP%]{position:relative}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:45px;padding-left:40px;margin-bottom:20px;box-sizing:border-box;box-shadow:none;border:1px solid #00000020;border-radius:50px;outline:none;background:transparent}.form-input[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:10px;padding-left:15px;color:#007bff}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000;padding-left:0}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid{border:2px solid #007bff}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::placeholder{color:#454b69}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:#007bff!important;border:0px}.form-box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:10px;border:none;cursor:pointer;border-radius:50px;background:#007bff;color:#fff;font-size:90%;font-weight:700;letter-spacing:.1rem;transition:.5s;padding:12px}.form-box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background:#0069d9}.forget-link[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.forget-pre[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{color:#090909;font-weight:700}.forget-link[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0069d9;text-decoration:none}.form-box[_ngcontent-%COMP%]   .btn-social[_ngcontent-%COMP%]{color:#fff!important;border:0;font-weight:700}.form-box[_ngcontent-%COMP%]   .btn-facebook[_ngcontent-%COMP%]{background:#4866a8}.form-box[_ngcontent-%COMP%]   .btn-google[_ngcontent-%COMP%]{background:#da3f34}.form-box[_ngcontent-%COMP%]   .btn-twitter[_ngcontent-%COMP%]{background:#33ccff}.form-box[_ngcontent-%COMP%]   .btn-facebook[_ngcontent-%COMP%]:hover{background:#3d578f}.form-box[_ngcontent-%COMP%]   .btn-google[_ngcontent-%COMP%]:hover{background:#bf3b31}.form-box[_ngcontent-%COMP%]   .btn-twitter[_ngcontent-%COMP%]:hover{background:#2eb7e5}"]})}return o})()},{path:"recuperarporEmail",component:(()=>{class o{constructor(e,r,i,s){this.router=e,this.fb=r,this.vs=i,this.preguntasService=s,this.formSubmitted=!1,this.miFormulario=this.fb.group({nombre:["",[n.kI.required,n.kI.minLength(3)]],email:[localStorage.getItem("email")||"",[n.kI.required,n.kI.pattern(this.vs.emailPattern)]]})}ngOnInit(){}get emailErrorMsg(){const e=this.miFormulario.get("email")?.errors;return e?.required?"El correo es obligatorio":e?.pattern?"No es un formato de correo valido":""}campoNoEsValido(e){return this.miFormulario.controls[e]?.errors&&this.miFormulario.controls[e].touched}enviarRespuesta(){this.preguntasService.recuperarPassporEmail(this.miFormulario.value).subscribe({next:()=>{g().fire("Guardado","Correo enviado","success"),this.router.navigateByUrl("auth/inicio")},error:e=>{g().fire("Error",e.error.msg,"error")}})}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(l.F0),t.Y36(n.qu),t.Y36(p.o),t.Y36(m))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-recuperar-pass-emsil"]],decls:30,vars:4,consts:[[1,"container"],[1,"row","px-3"],[1,"col-lg-10","col-xl-9","card","flex-row","mx-auto","px-0"],[1,"img-left","d-none","d-md-flex"],[1,"card-body"],[1,"title","text-center","mt-4"],["autocomplete","off",1,"form-box","px-3",3,"formGroup","ngSubmit"],[1,"form-input"],[1,"fa","fa-key"],["type","text","placeholder","Nombre","formControlName","nombre"],["class","form-text text-danger",4,"ngIf"],[1,"fa","fa-envelope-o"],["type","email","placeholder","Usuario","formControlName","email"],[1,"mb-3"],["type","submit",1,"btn","btn-block","text-uppercase",3,"disabled"],[1,"form-text","text-danger"]],template:function(r,i){1&r&&(t._UZ(0,"br")(1,"br"),t.TgZ(2,"div",0)(3,"div",1)(4,"div",2),t._UZ(5,"div",3),t.TgZ(6,"div",4)(7,"h4",5),t._uU(8," Recuperacion de contrase\xf1a Por Email "),t.qZA(),t.TgZ(9,"form",6),t.NdJ("ngSubmit",function(){return i.enviarRespuesta()}),t.TgZ(10,"label"),t._uU(11,"Nombre"),t.qZA(),t.TgZ(12,"div",7)(13,"span"),t._UZ(14,"i",8),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.YNc(16,B,2,0,"span",10),t.TgZ(17,"label"),t._uU(18,"Email"),t.qZA(),t.TgZ(19,"div",7)(20,"span"),t._UZ(21,"i",11),t.qZA(),t._UZ(22,"input",12),t.qZA(),t.YNc(23,G,2,1,"span",10),t.TgZ(24,"div",13)(25,"button",14),t._uU(26," Enviar "),t.qZA()()()()()()(),t._UZ(27,"br")(28,"br")(29,"br")),2&r&&(t.xp6(9),t.Q6J("formGroup",i.miFormulario),t.xp6(7),t.Q6J("ngIf",i.campoNoEsValido("nombre")),t.xp6(7),t.Q6J("ngIf",i.campoNoEsValido("email")),t.xp6(2),t.Q6J("disabled",i.miFormulario.invalid))},dependencies:[u.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:["body[_ngcontent-%COMP%]{height:100vh;background:#0062E6!important;display:flex;flex-direction:column;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]{overflow:hidden;border:0!important;border-radius:20px!important;box-shadow:0 .5rem 1rem #0000001a}.img-left[_ngcontent-%COMP%]{width:45%;background:url(https://static01.nyt.com/images/2020/02/26/multimedia/26JimenezES-1/26JimenezES-1-mediumSquareAt3X.jpg) center;background-size:cover}.card-body[_ngcontent-%COMP%]{padding:2rem}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.form-input[_ngcontent-%COMP%]{position:relative}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:45px;padding-left:40px;margin-bottom:20px;box-sizing:border-box;box-shadow:none;border:1px solid #00000020;border-radius:50px;outline:none;background:transparent}.form-input[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:10px;padding-left:15px;color:#007bff}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000;padding-left:0}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid{border:2px solid #007bff}.form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::placeholder{color:#454b69}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:#007bff!important;border:0px}.form-box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:10px;border:none;cursor:pointer;border-radius:50px;background:#007bff;color:#fff;font-size:90%;font-weight:700;letter-spacing:.1rem;transition:.5s;padding:12px}.form-box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background:#0069d9}.forget-link[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.forget-link[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0069d9;text-decoration:none}.form-box[_ngcontent-%COMP%]   .btn-social[_ngcontent-%COMP%]{color:#fff!important;border:0;font-weight:700}.form-box[_ngcontent-%COMP%]   .btn-facebook[_ngcontent-%COMP%]{background:#4866a8}.form-box[_ngcontent-%COMP%]   .btn-google[_ngcontent-%COMP%]{background:#da3f34}.form-box[_ngcontent-%COMP%]   .btn-twitter[_ngcontent-%COMP%]{background:#33ccff}.form-box[_ngcontent-%COMP%]   .btn-facebook[_ngcontent-%COMP%]:hover{background:#3d578f}.form-box[_ngcontent-%COMP%]   .btn-google[_ngcontent-%COMP%]:hover{background:#bf3b31}.form-box[_ngcontent-%COMP%]   .btn-twitter[_ngcontent-%COMP%]:hover{background:#2eb7e5}"]})}return o})()},{path:"**",redirectTo:"login"}]}];let X=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[l.Bz.forChild($),l.Bz]})}return o})();var H=c(8298);let D=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[u.ez,X,n.UX,H.q]})}return o})()}}]);